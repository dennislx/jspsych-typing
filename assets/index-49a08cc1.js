(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function le(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}var _i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const vi=e=>{const t=new Set;do for(const i of Reflect.ownKeys(e))t.add([e,i]);while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};var ye=(e,{include:t,exclude:i}={})=>{const n=r=>{const s=o=>typeof o=="string"?r===o:o.test(r);return t?t.some(s):i?!i.some(s):!0};for(const[r,s]of vi(e.constructor.prototype)){if(s==="constructor"||!n(s))continue;const o=Reflect.getOwnPropertyDescriptor(r,s);o&&typeof o.value=="function"&&(e[s]=e[s].bind(e))}return e},wi="7.3.1";class Y extends Error{constructor(t="The global `jsPsych` variable is no longer available in jsPsych v7."){super(`${t} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`),this.name="MigrationError"}}window.jsPsych={get init(){throw new Y("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new Y},get randomization(){throw new Y},get turk(){throw new Y},get pluginAPI(){throw new Y},get ALL_KEYS(){throw new Y('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new Y('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};function me(e){return[...new Set(e)]}function V(e){if(!e)return e;let t;if(Array.isArray(e)){t=[];for(const i of e)t.push(V(i));return t}else if(typeof e=="object"&&e!==null){t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=V(e[i]));return t}else return e}var bi=Object.freeze({__proto__:null,unique:me,deepCopy:V});class De{constructor(t=[]){this.values=t}sum(){let t=0;for(const i of this.values)t+=i;return t}mean(){return this.sum()/this.count()}median(){if(this.values.length===0)return;const t=this.values.slice(0).sort(function(r,s){return r-s}),i=Math.floor(t.length/2);return t.length%2===0?(t[i]+t[i-1])/2:t[i]}min(){return Math.min.apply(null,this.values)}max(){return Math.max.apply(null,this.values)}count(){return this.values.length}variance(){const t=this.mean();let i=0;for(const r of this.values)i+=Math.pow(r-t,2);return i/(this.values.length-1)}sd(){const t=this.variance();return Math.sqrt(t)}frequencies(){const t={};for(const i of this.values)typeof t[i]>"u"?t[i]=1:t[i]++;return t}all(t){for(const i of this.values)if(!t(i))return!1;return!0}subset(t){const i=[];for(const n of this.values)t(n)&&i.push(n);return new De(i)}}function xi(e,t){const i=new Blob([e],{type:"text/plain"});let n="";typeof window.webkitURL<"u"?n=window.webkitURL.createObjectURL(i):n=window.URL.createObjectURL(i);const r=document.createElement("a");r.id="jspsych-download-as-text-link",r.style.display="none",r.download=t,r.href=n,r.click()}function Ai(e){const t=typeof e!="object"?JSON.parse(e):e;let i="",n="";const r=[];for(const s of t)for(const o in s){let a=o+"";a='"'+a.replace(/"/g,'""')+'",',r.includes(o)||(r.push(o),i+=a)}i=i.slice(0,-1),n+=i+`\r
`;for(const s of t){i="";for(const o of r){let a=typeof s[o]>"u"?"":s[o];typeof a=="object"&&(a=JSON.stringify(a));const l=a+"";i+='"'+l.replace(/"/g,'""')+'",'}i=i.slice(0,-1),n+=i+`\r
`}return n}function Ti(){const e=window.location.search.substr(1).split("&"),t={};for(let i=0;i<e.length;++i){const n=e[i].split("=",2);n.length==1?t[n[0]]="":t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}return t}class P{constructor(t=[]){this.trials=t}push(t){return this.trials.push(t),this}join(t){return this.trials=this.trials.concat(t.values()),this}top(){return this.trials.length<=1?this:new P([this.trials[this.trials.length-1]])}first(t=1){if(t<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new P:(t>this.trials.length&&(t=this.trials.length),new P(this.trials.slice(0,t)))}last(t=1){if(t<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new P:(t>this.trials.length&&(t=this.trials.length),new P(this.trials.slice(this.trials.length-t,this.trials.length)))}values(){return this.trials}count(){return this.trials.length}readOnly(){return new P(V(this.trials))}addToAll(t){for(const i of this.trials)Object.assign(i,t);return this}addToLast(t){return this.trials.length!=0&&Object.assign(this.trials[this.trials.length-1],t),this}filter(t){let i;Array.isArray(t)?i=V(t):i=V([t]);const n=[];for(const r of this.trials){let s=!1;for(const o of i){let a=!0;for(const l of Object.keys(o))typeof r[l]<"u"&&r[l]===o[l]||(a=!1);if(a){s=!0;break}}s&&n.push(r)}return new P(n)}filterCustom(t){return new P(this.trials.filter(t))}filterColumns(t){return new P(this.trials.map(i=>Object.fromEntries(t.filter(n=>n in i).map(n=>[n,i[n]]))))}select(t){const i=[];for(const n of this.trials)typeof n[t]<"u"&&i.push(n[t]);return new De(i)}ignore(t){Array.isArray(t)||(t=[t]);const i=V(this.trials);for(const n of i)for(const r of t)delete n[r];return new P(i)}uniqueNames(){const t=[];for(const i of this.trials)for(const n of Object.keys(i))t.includes(n)||t.push(n);return t}csv(){return Ai(this.trials)}json(t=!1){return t?JSON.stringify(this.trials,null,"	"):JSON.stringify(this.trials)}localSave(t,i){t=t.toLowerCase();let n;if(t==="json")n=this.json();else if(t==="csv")n=this.csv();else throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');xi(n,i)}}class ki{constructor(t){this.jsPsych=t,this.dataProperties={},this.reset()}reset(){this.allData=new P,this.interactionData=new P}get(){return this.allData}getInteractionData(){return this.interactionData}write(t){const i=this.jsPsych.getProgress(),n=this.jsPsych.getCurrentTrial(),r={trial_type:n.type.info.name,trial_index:i.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},t),n.data),r),this.dataProperties))}addProperties(t){this.allData.addToAll(t),this.dataProperties=Object.assign({},this.dataProperties,t)}addDataToLastTrial(t){this.allData.addToLast(t)}getDataByTimelineNode(t){return this.allData.filterCustom(i=>i.internal_node_id.slice(0,t.length)===t)}getLastTrialData(){return this.allData.top()}getLastTimelineData(){const i=this.getLastTrialData().select("internal_node_id").values[0];if(typeof i>"u")return new P;{const n=i.substr(0,i.lastIndexOf("-"));return this.getDataByTimelineNode(n)}}displayData(t="json"){t=t.toLowerCase(),t!="json"&&t!="csv"&&(console.log("Invalid format declared for displayData function. Using json as default."),t="json");const i=t==="json"?this.allData.json(!0):this.allData.csv(),n=this.jsPsych.getDisplayElement();n.innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=i}urlVariables(){return typeof this.query_string>"u"&&(this.query_string=Ti()),this.query_string}getURLVariable(t){return this.urlVariables()[t]}createInteractionListeners(){window.addEventListener("blur",()=>{const i={event:"blur",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(i),this.jsPsych.getInitSettings().on_interaction_data_update(i)}),window.addEventListener("focus",()=>{const i={event:"focus",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(i),this.jsPsych.getInitSettings().on_interaction_data_update(i)});const t=()=>{const i={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(i),this.jsPsych.getInitSettings().on_interaction_data_update(i)};document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("webkitfullscreenchange",t)}_customInsert(t){this.allData=new P(t)}_fullreset(){this.reset(),this.dataProperties={}}}class Ei{constructor(){this.hardwareConnected=!1,document.addEventListener("jspsych-activate",t=>{this.hardwareConnected=!0})}hardware(t){const i=new CustomEvent("jspsych",{detail:t});document.dispatchEvent(i)}}class Si{constructor(t,i=!1,n=0){this.getRootElement=t,this.areResponsesCaseSensitive=i,this.minimumValidRt=n,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,ye(this),this.registerRootListeners()}registerRootListeners(){if(!this.areRootListenersRegistered){const t=this.getRootElement();t&&(t.addEventListener("keydown",this.rootKeydownListener),t.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}rootKeydownListener(t){for(const i of Array.from(this.listeners))i(t);this.heldKeys.add(this.toLowerCaseIfInsensitive(t.key))}toLowerCaseIfInsensitive(t){return this.areResponsesCaseSensitive?t:t.toLowerCase()}rootKeyupListener(t){this.heldKeys.delete(this.toLowerCaseIfInsensitive(t.key))}isResponseValid(t,i,n){return!i&&this.heldKeys.has(n)?!1:t==="ALL_KEYS"?!0:t==="NO_KEYS"?!1:t.includes(n)}getKeyboardResponse({callback_function:t,valid_responses:i="ALL_KEYS",rt_method:n="performance",persist:r,audio_context:s,audio_context_start_time:o,allow_held_key:a=!1,minimum_valid_rt:l=this.minimumValidRt}){n!=="performance"&&n!=="audio"&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),n="performance");const u=n==="performance"?performance.now():o*1e3;this.registerRootListeners(),!this.areResponsesCaseSensitive&&typeof i!="string"&&(i=i.map(p=>p.toLowerCase()));const f=p=>{const d=Math.round((n=="performance"?performance.now():s.currentTime*1e3)-u);if(d<l)return;const g=this.toLowerCaseIfInsensitive(p.key);this.isResponseValid(i,a,g)&&(p.preventDefault(),r||this.cancelKeyboardResponse(f),t({key:g,rt:d}))};return this.listeners.add(f),f}cancelKeyboardResponse(t){this.listeners.delete(t)}cancelAllKeyboardResponses(){this.listeners.clear()}compareKeys(t,i){if(typeof t!="string"&&t!==null||typeof i!="string"&&i!==null){console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.");return}return typeof t=="string"&&typeof i=="string"?this.areResponsesCaseSensitive?t===i:t.toLowerCase()===i.toLowerCase():t===null&&i===null}}var h;(function(e){e[e.BOOL=0]="BOOL",e[e.STRING=1]="STRING",e[e.INT=2]="INT",e[e.FLOAT=3]="FLOAT",e[e.FUNCTION=4]="FUNCTION",e[e.KEY=5]="KEY",e[e.KEYS=6]="KEYS",e[e.SELECT=7]="SELECT",e[e.HTML_STRING=8]="HTML_STRING",e[e.IMAGE=9]="IMAGE",e[e.AUDIO=10]="AUDIO",e[e.VIDEO=11]="VIDEO",e[e.OBJECT=12]="OBJECT",e[e.COMPLEX=13]="COMPLEX",e[e.TIMELINE=14]="TIMELINE"})(h||(h={}));const Qe={data:{type:h.OBJECT,pretty_name:"Data",default:{}},on_start:{type:h.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:h.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:h.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:h.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:h.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:h.COMPLEX,default:null}},Je=[h.AUDIO,h.IMAGE,h.VIDEO];class Oi{constructor(t,i){this.useWebaudio=t,this.webaudioContext=i,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}getVideoBuffer(t){return t.startsWith("blob:")&&(this.video_buffers[t]=t),this.video_buffers[t]}initAudio(){this.context=this.useWebaudio?this.webaudioContext:null}audioContext(){return this.context!==null&&this.context.state!=="running"&&this.context.resume(),this.context}getAudioBuffer(t){return new Promise((i,n)=>{typeof this.audio_buffers[t]>"u"||this.audio_buffers[t]=="tmp"?this.preloadAudio([t],()=>{i(this.audio_buffers[t])},()=>{},r=>{n(r.error)}):i(this.audio_buffers[t])})}preloadAudio(t,i=()=>{},n=s=>{},r=s=>{}){t=me(t.flat());let s=0;if(t.length==0){i();return}const o=(l,c=1)=>{const u=new XMLHttpRequest;u.open("GET",l,!0),u.responseType="arraybuffer",u.onload=()=>{this.context.decodeAudioData(u.response,f=>{this.audio_buffers[l]=f,s++,n(l),s==t.length&&i()},f=>{r({source:l,error:f})})},u.onerror=f=>{let p=f;u.status==404&&(p="404"),r({source:l,error:p})},u.onloadend=f=>{u.status==404&&r({source:l,error:"404"})},u.send(),this.preload_requests.push(u)},a=(l,c=1)=>{const u=new Audio,f=()=>{this.audio_buffers[l]=u,s++,n(l),s==t.length&&i(),u.removeEventListener("canplaythrough",f)};u.addEventListener("canplaythrough",f),u.addEventListener("error",function p(d){r({source:u.src,error:d}),u.removeEventListener("error",p)}),u.addEventListener("abort",function p(d){r({source:u.src,error:d}),u.removeEventListener("abort",p)}),u.src=l,this.preload_requests.push(u)};for(const l of t)typeof this.audio_buffers[l]<"u"?(s++,n(l),s==t.length&&i()):(this.audio_buffers[l]="tmp",this.audioContext()!==null?o(l):a(l))}preloadImages(t,i=()=>{},n=s=>{},r=s=>{}){t=me(t.flat());var s=0;if(t.length===0){i();return}for(let o=0;o<t.length;o++){const a=new Image,l=t[o];a.onload=()=>{s++,n(l),s===t.length&&i()},a.onerror=c=>{r({source:l,error:c})},a.src=l,this.img_cache[l]=a,this.preload_requests.push(a)}}preloadVideo(t,i=()=>{},n=s=>{},r=s=>{}){t=me(t.flat());let s=0;if(t.length===0){i();return}for(const o of t){const a=this.video_buffers,l=new XMLHttpRequest;l.open("GET",o,!0),l.responseType="blob",l.onload=()=>{if(l.status===200||l.status===0){const c=l.response;a[o]=URL.createObjectURL(c),s++,n(o),s===t.length&&i()}},l.onerror=c=>{let u=c;l.status==404&&(u="404"),r({source:o,error:u})},l.onloadend=c=>{l.status==404&&r({source:o,error:"404"})},l.send(),this.preload_requests.push(l)}}getAutoPreloadList(t){const i=Object.fromEntries(Je.map(r=>[r,new Set])),n=(r,s)=>{var o,a,l,c;if(typeof r.timeline<"u")for(const f of r.timeline)n(f,(o=r.type)!==null&&o!==void 0?o:s);else if(!((l=(a=r.type)!==null&&a!==void 0?a:s)===null||l===void 0)&&l.info){const{name:f,parameters:p}=((c=r.type)!==null&&c!==void 0?c:s).info;this.preloadMap.has(f)||this.preloadMap.set(f,Object.fromEntries(Object.entries(p).filter(([d,{type:g,preload:m}])=>Je.includes(g)&&(m??!0)).map(([d,{type:g}])=>[d,g])));for(const[d,g]of Object.entries(this.preloadMap.get(f))){const m=r[d],_=i[g];if(typeof m=="string")_.add(m);else if(Array.isArray(m))for(const b of m.flat())typeof b=="string"&&_.add(b)}}};return n({timeline:t}),{images:[...i[h.IMAGE]],audio:[...i[h.AUDIO]],video:[...i[h.VIDEO]]}}cancelPreloads(){for(const t of this.preload_requests)t.onload=()=>{},t.onerror=()=>{},t.oncanplaythrough=()=>{},t.onabort=()=>{};this.preload_requests=[]}initializeMicrophoneRecorder(t){const i=new MediaRecorder(t);this.microphone_recorder=i}getMicrophoneRecorder(){return this.microphone_recorder}initializeCameraRecorder(t,i){this.camera_stream=t;const n=new MediaRecorder(t,i);this.camera_recorder=n}getCameraStream(){return this.camera_stream}getCameraRecorder(){return this.camera_recorder}}class Pi{dispatchEvent(t){document.body.dispatchEvent(t)}keyDown(t){this.dispatchEvent(new KeyboardEvent("keydown",{key:t}))}keyUp(t){this.dispatchEvent(new KeyboardEvent("keyup",{key:t}))}pressKey(t,i=0){i>0?setTimeout(()=>{this.keyDown(t),this.keyUp(t)},i):(this.keyDown(t),this.keyUp(t))}clickTarget(t,i=0){i>0?setTimeout(()=>{t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},i):(t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),t.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}fillTextInput(t,i,n=0){n>0?setTimeout(()=>{t.value=i},n):t.value=i}getValidKey(t){const i=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];let n;if(t=="NO_KEYS")n=null;else if(t=="ALL_KEYS")n=i[Math.floor(Math.random()*i.length)];else{const r=t.flat();n=r[Math.floor(Math.random()*r.length)]}return n}mergeSimulationData(t,i){return Object.assign(Object.assign({},t),i?.data)}ensureSimulationDataConsistency(t,i){if(i.rt&&(i.rt=Math.round(i.rt)),t.trial_duration&&i.rt&&i.rt>t.trial_duration&&(i.rt=null,i.response&&(i.response=null),i.correct&&(i.correct=!1)),t.choices&&t.choices=="NO_KEYS"&&(i.rt&&(i.rt=null),i.response&&(i.response=null)),t.allow_response_before_complete&&t.sequence_reps&&t.frame_time){const n=t.sequence_reps*t.frame_time*t.stimuli.length;i.rt<n&&(i.rt=null,i.response=null)}}}class Ii{constructor(){this.timeout_handlers=[]}setTimeout(t,i){const n=window.setTimeout(t,i);return this.timeout_handlers.push(n),n}clearAllTimeouts(){for(const t of this.timeout_handlers)clearTimeout(t);this.timeout_handlers=[]}}function ji(e){const t=e.getInitSettings();return Object.assign({},...[new Si(e.getDisplayContainerElement,t.case_sensitive_responses,t.minimum_valid_rt),new Ii,new Oi(t.use_webaudio,e.webaudio_context),new Ei,new Pi].map(i=>ye(i)))}var Ie=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function gt(e){function t(){return e&&e.maxLength>1?i():n()}function i(){for(var u=!1,f;!u;)f=n(),f.length<=e.maxLength&&(u=!0);return f}function n(){return Ie[r(Ie.length)]}function r(u){return Math.floor(Math.random()*u)}if(typeof e>"u")return t();typeof e=="number"&&(e={exactly:e}),e.exactly&&(e.min=e.exactly,e.max=e.exactly),typeof e.wordsPerString!="number"&&(e.wordsPerString=1),typeof e.formatter!="function"&&(e.formatter=u=>u),typeof e.separator!="string"&&(e.separator=" ");for(var s=e.min+r(e.max+1-e.min),o=[],a="",l=0,c=0;c<s*e.wordsPerString;c++)l===e.wordsPerString-1?a+=e.formatter(t(),l):a+=e.formatter(t(),l)+e.separator,l++,(c+1)%e.wordsPerString===0&&(o.push(a),a="",l=0);return typeof e.join=="string"&&(o=o.join(e.join)),o}var Li=gt;gt.wordList=Ie;var _t={exports:{}};(function(e){(function(t,i,n){function r(l){var c=this,u=a();c.next=function(){var f=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=f-(c.c=f|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new r(l),f=c&&c.state,p=u.next;return p.int32=function(){return u.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,f&&(typeof f=="object"&&s(f,u),p.state=function(){return s(u,{})}),p}function a(){var l=4022871197,c=function(u){u=String(u);for(var f=0;f<u.length;f++){l+=u.charCodeAt(f);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return c}i&&i.exports?i.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(_i,e,!1)})(_t);var Ci=_t.exports;function Mi(e=Math.random().toString()){return Math.random=Ci(e),e}function qe(e,t,i=!1){const n=Array.isArray(e),r=Array.isArray(t);if(!n)r?(t=[t[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],t=[t]);else if(r){if(e.length!=t.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),t.length<e.length){let a=[];for(let l=0;l<e.length;l++)a.push(t);t=a}else t=t.slice(0,e.length)}else{let a=[];for(let l=0;l<e.length;l++)a.push(t);t=a}let s=[];for(let a=0;a<e.length;a++)for(let l=0;l<t[a];l++)e[a]==null||typeof e[a]!="object"?s.push(e[a]):s.push(Object.assign({},e[a]));let o=U(s);return i&&(o=Ki(o)),o}function U(e){Array.isArray(e)||console.error("Argument to shuffle() must be an array.");const t=e.slice(0);let i=t.length,n,r;for(;i;)r=Math.floor(Math.random()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function Ni(e,t){Array.isArray(e)||console.error("First argument to shuffleNoRepeats() must be an array."),typeof t<"u"&&typeof t!="function"&&console.error("Second argument to shuffleNoRepeats() must be a function."),typeof t>"u"&&(t=function(n,r){return n===r});const i=U(e);for(let n=0;n<i.length-1;n++)if(t(i[n],i[n+1])){let r=Math.floor(Math.random()*(i.length-2))+1;for(;t(i[n+1],i[r])||t(i[n+1],i[r+1])||t(i[n+1],i[r-1])||t(i[n],i[r]);)r=Math.floor(Math.random()*(i.length-2))+1;const s=i[r];i[r]=i[n+1],i[n+1]=s}return i}function vt(e,t=!1){const i=e.length;if(i==1)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),U(e[0]);let n=[];for(let a=0;a<i;a++)n.push(a);t&&(n=U(n));const r=[];let s=null;for(let a=0;a<i;a++)s=s===null?e[a].length:Math.min(s,e[a].length),r.push(U(e[a]));const o=[];for(let a=0;a<s;a++)for(let l=0;l<n.length;l++)o.push(r[n[l]][a]);return o}function wt(e,t){return Array.isArray(e)||console.error("First argument to sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),U(e).slice(0,t)}function bt(e,t,i){Array.isArray(e)||console.error("First argument to sampleWithReplacement() must be an array");const n=[];if(typeof i<"u"){i.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");let o=0;for(const a of i)o+=a;for(const a of i)n.push(a/o)}else for(let o=0;o<e.length;o++)n.push(1/e.length);const r=[n[0]];for(let o=1;o<n.length;o++)r.push(n[o]+r[o-1]);const s=[];for(let o=0;o<t;o++){const a=Math.random();let l=0;for(;a>r[l];)l++;s.push(e[l])}return s}function Ri(e,t=1,i=!1){let n=[{}];for(const[r,s]of Object.entries(e)){const o=[];for(const a of s)for(const l of n)o.push(Object.assign(Object.assign({},l),{[r]:a}));n=o}return qe(n,t,i)}function Fi(e=32){let t="";const i="0123456789abcdefghjklmnopqrstuvwxyz";for(let n=0;n<e;n++)t+=i[Math.floor(Math.random()*i.length)];return t}function Di(e,t){if(t<e)throw new Error("Upper boundary must be less than or equal to lower boundary");return e+Math.floor(Math.random()*(t-e+1))}function qi(e){return Math.random()<=e?1:0}function je(e,t){return Yi()*t+e}function Le(e){return-Math.log(Math.random())/e}function Bi(e,t,i,n=!1){let r=je(e,t)+Le(i);if(n)for(;r<=0;)r=je(e,t)+Le(i);return r}function Hi(e){return Li(e)}function Yi(){for(var e=0,t=0;e===0;)e=Math.random();for(;t===0;)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}function Ki(e){const t={};for(const i of e)for(const n of Object.keys(i))typeof t[n]>"u"&&(t[n]=[]),t[n].push(i[n]);return t}var zi=Object.freeze({__proto__:null,setSeed:Mi,repeat:qe,shuffle:U,shuffleNoRepeats:Ni,shuffleAlternateGroups:vt,sampleWithoutReplacement:wt,sampleWithReplacement:bt,factorial:Ri,randomID:Fi,randomInt:Di,sampleBernoulli:qi,sampleNormal:je,sampleExponential:Le,sampleExGaussian:Bi,randomWords:Hi});function xt(){const e={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},t=function(r,s){s=s.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const o="[\\?&]"+s+"=([^&#]*)",l=new RegExp(o).exec(r);return l==null?"":l[1]},i=t(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map(function(r){e[r]=unescape(t(i,r))}),e.previewMode=e.assignmentId=="ASSIGNMENT_ID_NOT_AVAILABLE",e.outsideTurk=!e.previewMode&&e.hitId===""&&e.assignmentId==""&&e.workerId=="",e}function Vi(e){const t=xt(),i=t.assignmentId,n=t.turkSubmitTo;if(!i||!n)return;const r=document.createElement("form");r.method="POST",r.action=n+"/mturk/externalSubmit?assignmentId="+i;for(const s in e)if(e.hasOwnProperty(s)){const o=document.createElement("input");o.type="hidden",o.name=s,o.id=s,o.value=e[s],r.appendChild(o)}document.body.appendChild(r),r.submit()}var Ui=Object.freeze({__proto__:null,turkInfo:xt,submitToTurk:Vi});class ge{constructor(t,i,n,r){if(this.jsPsych=t,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=n,this.relative_id=typeof n>"u"?0:r,typeof i.timeline<"u"){this.timeline_parameters={timeline:[],loop_function:i.loop_function,conditional_function:i.conditional_function,sample:i.sample,randomize_order:typeof i.randomize_order>"u"?!1:i.randomize_order,repetitions:typeof i.repetitions>"u"?1:i.repetitions,timeline_variables:typeof i.timeline_variables>"u"?[{}]:i.timeline_variables,on_timeline_finish:i.on_timeline_finish,on_timeline_start:i.on_timeline_start},this.setTimelineVariablesOrder();var s=Object.assign({},i);delete s.timeline,delete s.conditional_function,delete s.loop_function,delete s.randomize_order,delete s.repetitions,delete s.timeline_variables,delete s.sample,delete s.on_timeline_start,delete s.on_timeline_finish,this.node_trial_data=s;for(var o=0;o<i.timeline.length;o++){var a=Object.assign({},s,i.timeline[o]);if(typeof s.data=="object"&&typeof i.timeline[o].data=="object"){var l=Object.assign({},s.data,i.timeline[o].data);a.data=l}this.timeline_parameters.timeline.push(new ge(this.jsPsych,a,this,o))}}else typeof i.type>"u"&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(i)),this.trial_parameters=Object.assign({},i)}trial(){return typeof this.timeline_parameters>"u"?V(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}markCurrentTrialComplete(){typeof this.timeline_parameters>"u"?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}nextRepetiton(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}setTimelineVariablesOrder(){const t=this.timeline_parameters;if(!(typeof t>"u"||typeof t.timeline_variables>"u")){for(var i=[],n=0;n<t.timeline_variables.length;n++)i.push(n);typeof t.sample<"u"&&(t.sample.type=="custom"?i=t.sample.fn(i):t.sample.type=="with-replacement"?i=bt(i,t.sample.size,t.sample.weights):t.sample.type=="without-replacement"?i=wt(i,t.sample.size):t.sample.type=="fixed-repetitions"?i=qe(i,t.sample.size,!1):t.sample.type=="alternate-groups"?i=vt(t.sample.groups,t.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),t.randomize_order&&(i=U(i)),this.progress.order=i}}nextSet(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}advance(){const t=this.progress,i=this.timeline_parameters,n=this.jsPsych.internal;if(t.done)return!0;if(t.current_location==-1){if(typeof i<"u"){if(typeof i.conditional_function<"u"&&t.current_repetition==0&&t.current_variable_set==0){n.call_immediate=!0;var r=i.conditional_function();if(n.call_immediate=!1,r==!1)return t.done=!0,!0}typeof i.on_timeline_start<"u"&&t.current_variable_set==0&&i.on_timeline_start()}return t.current_location=0,this.advance()}if(typeof i<"u"){for(var s=!1;t.current_location<i.timeline.length&&s==!1;){var o=i.timeline[t.current_location].advance();if(o)t.current_location++;else return s=!0,!1}return t.current_variable_set<t.order.length-1?(this.nextSet(),this.advance()):t.current_repetition<i.repetitions-1?(this.nextRepetiton(),typeof i.on_timeline_finish<"u"&&i.on_timeline_finish(),this.advance()):(typeof i.on_timeline_finish<"u"&&i.on_timeline_finish(),typeof i.loop_function<"u"?(n.call_immediate=!0,i.loop_function(this.generatedData())?(this.reset(),n.call_immediate=!1,this.parent_node.advance()):(t.done=!0,n.call_immediate=!1,!0)):(t.done=!0,!0))}}isComplete(){return this.progress.done}getTimelineVariableValue(t){if(!(typeof this.timeline_parameters>"u")){var i=this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][t];return i}}findTimelineVariable(t){var i=this.getTimelineVariableValue(t);return typeof i>"u"?typeof this.parent_node<"u"?this.parent_node.findTimelineVariable(t):void 0:i}timelineVariable(t){if(typeof this.timeline_parameters>"u"){const n=this.findTimelineVariable(t);return typeof n>"u"&&console.warn("Timeline variable "+t+" not found."),n}else{var i=Math.max(0,this.progress.current_location);i==this.timeline_parameters.timeline.length&&(i=i-1);const n=this.timeline_parameters.timeline[i].timelineVariable(t);return typeof n>"u"&&console.warn("Timeline variable "+t+" not found."),n}}allTimelineVariables(){for(var t=this.allTimelineVariablesNames(),i={},n=0;n<t.length;n++)i[t[n]]=this.timelineVariable(t[n]);return i}allTimelineVariablesNames(t=[]){if(typeof this.timeline_parameters<"u"){t=t.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var i=Math.max(0,this.progress.current_location);return i==this.timeline_parameters.timeline.length&&(i=i-1),this.timeline_parameters.timeline[i].allTimelineVariablesNames(t)}if(typeof this.timeline_parameters>"u")return t}length(){var t=0;if(typeof this.timeline_parameters<"u")for(var i=0;i<this.timeline_parameters.timeline.length;i++)t+=this.timeline_parameters.timeline[i].length();else return 1;return t}percentComplete(){for(var t=this.length(),i=0,n=0;n<this.timeline_parameters.timeline.length;n++)this.timeline_parameters.timeline[n].isComplete()&&(i+=this.timeline_parameters.timeline[n].length());return i/t*100}reset(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),typeof this.timeline_parameters<"u")for(var t=0;t<this.timeline_parameters.timeline.length;t++)this.timeline_parameters.timeline[t].reset()}end(){this.progress.done=!0}endActiveNode(){typeof this.timeline_parameters>"u"?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}ID(){var t="";return typeof this.parent_node>"u"?"0."+this.progress.current_iteration:(t+=this.parent_node.ID()+"-",t+=this.relative_id+"."+this.progress.current_iteration,t)}activeID(){return typeof this.timeline_parameters>"u"?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}generatedData(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}trialsOfType(t){if(typeof this.timeline_parameters>"u")return this.trial_parameters.type==t?this.trial_parameters:[];for(var i=[],n=0;n<this.timeline_parameters.timeline.length;n++){var r=this.timeline_parameters.timeline[n].trialsOfType(t);i=i.concat(r)}return i}insert(t){typeof this.timeline_parameters>"u"?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new ge(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),t),this,this.timeline_parameters.timeline.length))}}function Gi(e){return new Promise(t=>setTimeout(t,e))}class $i{constructor(t){this.extensions={},this.turk=Ui,this.randomization=zi,this.utils=bi,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,t=Object.assign({display_element:void 0,on_finish:()=>{},on_trial_start:()=>{},on_trial_finish:()=>{},on_data_update:()=>{},on_interaction_data_update:()=>{},on_close:()=>{},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},t),this.opts=t,ye(this),this.webaudio_context=typeof window<"u"&&typeof window.AudioContext<"u"?new AudioContext:null,window.location.protocol=="file:"&&(t.override_safe_mode===!1||typeof t.override_safe_mode>"u")&&(t.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new ki(this),this.pluginAPI=ji(this);for(const i of t.extensions)this.extensions[i.type.info.name]=new i.type(this);this.pluginAPI.initAudio()}version(){return wi}run(t){return le(this,void 0,void 0,function*(){typeof t>"u"&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),t.length===0&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=t,this.timeline=new ge(this,{timeline:t}),yield this.prepareDom(),yield this.checkExclusions(this.opts.exclusions),yield this.loadExtensions(this.opts.extensions),document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),yield this.finished})}simulate(t,i="data-only",n={}){return le(this,void 0,void 0,function*(){this.simulation_mode=i,this.simulation_options=n,yield this.run(t)})}getProgress(){return{total_trials:typeof this.timeline>"u"?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:typeof this.timeline>"u"?0:this.timeline.percentComplete()}}getStartTime(){return this.exp_start_time}getTotalTime(){return typeof this.exp_start_time>"u"?0:new Date().getTime()-this.exp_start_time.getTime()}getDisplayElement(){return this.DOM_target}getDisplayContainerElement(){return this.DOM_container}finishTrial(t={}){var i;if(this.current_trial_finished)return;this.current_trial_finished=!0,typeof this.current_trial.css_classes<"u"&&Array.isArray(this.current_trial.css_classes)&&this.DOM_target.classList.remove(...this.current_trial.css_classes),this.data.write(t);const r=this.data.getLastTrialData().values()[0],s=this.current_trial;if(typeof s.save_trial_parameters=="object")for(const l of Object.keys(s.save_trial_parameters)){const c=s.save_trial_parameters[l];c===!0&&(typeof s[l]>"u"?console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called "${l}".`):typeof s[l]=="function"?r[l]=s[l].toString():r[l]=s[l]),c===!1&&l!=="internal_node_id"&&l!=="trial_index"&&delete r[l]}const o=((i=s.extensions)!==null&&i!==void 0?i:[]).map(l=>this.extensions[l.type.info.name].on_finish(l.params)),a=()=>{this.internal.call_immediate=!0,typeof s.on_finish=="function"&&s.on_finish(r),this.opts.on_trial_finish(r),this.opts.on_data_update(r),this.internal.call_immediate=!1,this.simulation_mode==="data-only"?this.nextTrial():typeof s.post_trial_gap===null||typeof s.post_trial_gap>"u"?this.opts.default_iti>0?setTimeout(this.nextTrial,this.opts.default_iti):this.nextTrial():s.post_trial_gap>0?setTimeout(this.nextTrial,s.post_trial_gap):this.nextTrial()};if(o.some(l=>typeof l.then=="function"))Promise.all(o.map(l=>Promise.resolve(l).then(c=>{Object.assign(r,c)}))).then(a);else{for(const l of o)Object.assign(r,l);a()}}endExperiment(t="",i={}){this.timeline.end_message=t,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(i)}endCurrentTimeline(){this.timeline.endActiveNode()}getCurrentTrial(){return this.current_trial}getInitSettings(){return this.opts}getCurrentTimelineNodeID(){return this.timeline.activeID()}timelineVariable(t,i=!1){return this.internal.call_immediate||i===!0?this.timeline.timelineVariable(t):{timelineVariablePlaceholder:!0,timelineVariableFunction:()=>this.timeline.timelineVariable(t)}}getAllTimelineVariables(){return this.timeline.allTimelineVariables()}addNodeToEndOfTimeline(t,i){this.timeline.insert(t)}pauseExperiment(){this.paused=!0}resumeExperiment(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}loadFail(t){t=t||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=t}getSafeModeStatus(){return this.file_protocol}getTimeline(){return this.timelineDescription}prepareDom(){return le(this,void 0,void 0,function*(){document.readyState!=="complete"&&(yield new Promise(i=>{window.addEventListener("load",i)}));const t=this.opts;if(typeof t.display_element>"u")document.querySelector("body")===null&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",t.display_element=document.querySelector("body");else{const i=t.display_element instanceof Element?t.display_element:document.querySelector("#"+t.display_element);i===null?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):t.display_element=i}t.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=t.display_element,this.DOM_target=document.querySelector("#jspsych-content"),t.experiment_width!==null&&(this.DOM_target.style.width=t.experiment_width+"px"),t.display_element.tabIndex=0,t.display_element.className.indexOf("jspsych-display-element")===-1&&(t.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",t.on_close)})}loadExtensions(t){return le(this,void 0,void 0,function*(){try{yield Promise.all(t.map(i=>this.extensions[i.type.info.name].initialize(i.params||{})))}catch(i){throw console.error(i),new Error(i)}})}startExperiment(){this.finished=new Promise(t=>{this.resolveFinishedPromise=t}),this.opts.show_progress_bar===!0&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}finishExperiment(){const t=this.opts.on_finish(this.data.get()),i=()=>{typeof this.timeline.end_message<"u"&&(this.DOM_target.innerHTML=this.timeline.end_message),this.resolveFinishedPromise()};t?Promise.resolve(t).then(i):i()}nextTrial(){if(this.paused){this.waiting=!0;return}this.global_trial_index++,this.timeline.markCurrentTrialComplete();const t=this.timeline.advance();if(this.opts.show_progress_bar===!0&&this.opts.auto_update_progress_bar===!0&&this.updateProgressBar(),t){this.finishExperiment();return}this.doTrial(this.timeline.trial())}doTrial(t){if(this.current_trial=t,this.current_trial_finished=!1,this.evaluateTimelineVariables(t),typeof t.type=="string")throw new Y("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(t.type=Object.assign(Object.assign({},ye(new t.type(this))),{info:t.type.info}),this.evaluateFunctionParameters(t),this.setDefaultValues(t),this.internal.call_immediate=!0,this.opts.on_trial_start(t),typeof t.on_start=="function"&&t.on_start(t),Array.isArray(t.extensions))for(const s of t.extensions)this.extensions[s.type.info.name].on_start(s.params);this.DOM_container.focus(),this.DOM_target.scrollTop=0,typeof t.css_classes<"u"&&(!Array.isArray(t.css_classes)&&typeof t.css_classes=="string"&&(t.css_classes=[t.css_classes]),Array.isArray(t.css_classes)&&this.DOM_target.classList.add(...t.css_classes));const i=()=>{if(typeof t.on_load=="function"&&t.on_load(),Array.isArray(t.extensions))for(const s of t.extensions)this.extensions[s.type.info.name].on_load(s.params)};let n;if(this.simulation_mode||(n=t.type.trial(this.DOM_target,t,i)),this.simulation_mode)if(t.type.simulate){let s;t.simulation_options||(s=this.simulation_options.default),t.simulation_options&&(typeof t.simulation_options=="string"?this.simulation_options[t.simulation_options]?s=this.simulation_options[t.simulation_options]:this.simulation_options.default?(console.log(`No matching simulation options found for "${t.simulation_options}". Using "default" options.`),s=this.simulation_options.default):(console.log(`No matching simulation options found for "${t.simulation_options}" and no "default" options provided. Using the default values provided by the plugin.`),s={}):s=t.simulation_options),s=this.utils.deepCopy(s),s=this.replaceFunctionsWithValues(s,null),s?.simulate===!1?n=t.type.trial(this.DOM_target,t,i):n=t.type.simulate(t,s?.mode||this.simulation_mode,s,i)}else n=t.type.trial(this.DOM_target,t,i);!(n&&typeof n.then=="function")&&!this.simulation_mode&&i(),this.internal.call_immediate=!1}evaluateTimelineVariables(t){for(const i of Object.keys(t))typeof t[i]=="object"&&t[i]!==null&&typeof t[i].timelineVariablePlaceholder<"u"&&(t[i]=t[i].timelineVariableFunction()),typeof t[i]=="object"&&t[i]!==null&&i!=="timeline"&&i!=="timeline_variables"&&this.evaluateTimelineVariables(t[i])}evaluateFunctionParameters(t){this.internal.call_immediate=!0;for(const i of Object.keys(t))i!=="type"&&(typeof Qe[i]<"u"&&Qe[i].type!==h.FUNCTION&&(t[i]=this.replaceFunctionsWithValues(t[i],null)),typeof t.type.info.parameters[i]<"u"&&t.type.info.parameters[i].type!==h.FUNCTION&&(t[i]=this.replaceFunctionsWithValues(t[i],t.type.info.parameters[i])));this.internal.call_immediate=!1}replaceFunctionsWithValues(t,i){if(t===null)return t;if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=this.replaceFunctionsWithValues(t[n],i);else if(typeof t=="object")if(i===null||!i.nested)for(const n of Object.keys(t))n==="type"||n==="timeline"||n==="timeline_variables"||(t[n]=this.replaceFunctionsWithValues(t[n],null));else for(const n of Object.keys(t))typeof i.nested[n]=="object"&&i.nested[n].type!==h.FUNCTION&&(t[n]=this.replaceFunctionsWithValues(t[n],i.nested[n]));else if(typeof t=="function")return t();return t}setDefaultValues(t){for(const i in t.type.info.parameters)t.type.info.parameters[i].type===h.COMPLEX?t.type.info.parameters[i].array===!0&&t[i].forEach(function(n,r){for(const s in t.type.info.parameters[i].nested)(typeof t[i][r][s]>"u"||t[i][r][s]===null)&&(typeof t.type.info.parameters[i].nested[s].default>"u"?console.error("You must specify a value for the "+s+" parameter (nested in the "+i+" parameter) in the "+t.type+" plugin."):t[i][r][s]=t.type.info.parameters[i].nested[s].default)}):(typeof t[i]>"u"||t[i]===null)&&(typeof t.type.info.parameters[i].default>"u"?console.error("You must specify a value for the "+i+" parameter in the "+t.type.info.name+" plugin."):t[i]=t.type.info.parameters[i].default)}checkExclusions(t){return le(this,void 0,void 0,function*(){if((t.min_width||t.min_height||t.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),t.min_width||t.min_height){const i=t.min_width||0,n=t.min_height||0;if(window.innerWidth<i||window.innerHeight<n){for(this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+i+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+n+"px. Your current height is "+window.innerHeight+"px.</p>";window.innerWidth<i||window.innerHeight<n;)yield Gi(100);this.getDisplayElement().innerHTML=""}}if(typeof t.audio<"u"&&t.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error})}drawProgressBar(t){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+t+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}updateProgressBar(){this.setProgressBar(this.getProgress().percent_complete/100)}setProgressBar(t){t=Math.max(Math.min(1,t),0),document.querySelector("#jspsych-progressbar-inner").style.width=t*100+"%",this.progress_bar_amount=t}getProgressBarCompleted(){return this.progress_bar_amount}}typeof window<"u"&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);function Wi(e){const t=new $i(e);return Object.defineProperties(t,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map(([n,r])=>[n,{get(){throw new Y(r)}}]))),t}const Qi={name:"preload",parameters:{auto_preload:{type:h.BOOL,pretty_name:"Auto-preload",default:!1},trials:{type:h.TIMELINE,pretty_name:"Trials",default:[]},images:{type:h.STRING,pretty_name:"Images",default:[],array:!0},audio:{type:h.STRING,pretty_name:"Audio",default:[],array:!0},video:{type:h.STRING,pretty_name:"Video",default:[],array:!0},message:{type:h.HTML_STRING,pretty_name:"Message",default:null},show_progress_bar:{type:h.BOOL,pretty_name:"Show progress bar",default:!0},continue_after_error:{type:h.BOOL,pretty_name:"Continue after error",default:!1},error_message:{type:h.HTML_STRING,pretty_name:"Error message",default:"The experiment failed to load."},show_detailed_errors:{type:h.BOOL,pretty_name:"Show detailed errors",default:!1},max_load_time:{type:h.INT,pretty_name:"Max load time",default:null},on_error:{type:h.FUNCTION,pretty_name:"On error",default:null},on_success:{type:h.FUNCTION,pretty_name:"On success",default:null}}};class At{constructor(t){this.jsPsych=t}trial(t,i){var n=null,r=!1,s=[],o=[],a=[],l=[],c=this.jsPsych.getSafeModeStatus(),u=[],f=[],p=[];if(i.auto_preload){var d=this.jsPsych.getTimeline(),g=this.jsPsych.pluginAPI.getAutoPreloadList(d);u=u.concat(g.images),f=f.concat(g.audio),p=p.concat(g.video)}if(i.trials.length>0){var m=this.jsPsych.pluginAPI.getAutoPreloadList(i.trials);u=u.concat(m.images),f=f.concat(m.audio),p=p.concat(m.video)}u=u.concat(i.images),f=f.concat(i.audio),p=p.concat(i.video),u=this.jsPsych.utils.unique(u.flat()),f=this.jsPsych.utils.unique(f.flat()),p=this.jsPsych.utils.unique(p.flat()),c&&(p=[]);var _="";i.message!==null&&(_+=i.message),i.show_progress_bar&&(_+=`
            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>
              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>
            </div>`),t.innerHTML=_;const b=()=>{if(D++,i.show_progress_bar){var w=D/j*100,O=t.querySelector("#jspsych-loading-progress-bar");O!==null&&(O.style.width=w+"%")}},v=()=>{typeof r<"u"&&r===!1&&(this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),n=!0,E())},Z=()=>{this.jsPsych.pluginAPI.cancelPreloads(),typeof n<"u"&&(n===!1||n===null)&&(r=!0,T<j&&(n=!1),ae("timeout"),l.push("<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>"),i.continue_after_error?E():R())},R=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),t.innerHTML=i.error_message,i.show_detailed_errors&&(t.innerHTML+="<p><strong>Error details:</strong></p>",l.forEach(w=>{t.innerHTML+=w}))},E=()=>{this.jsPsych.pluginAPI.clearAllTimeouts();var w={success:n,timeout:r,failed_images:s,failed_audio:o,failed_video:a};t.innerHTML="",this.jsPsych.finishTrial(w)};i.max_load_time!==null&&this.jsPsych.pluginAPI.setTimeout(Z,i.max_load_time);var j=u.length+f.length+p.length,D=0,T=0;if(j==0)v();else{const w=B=>{this.jsPsych.pluginAPI.preloadVideo(p,B,J,z)},O=B=>{this.jsPsych.pluginAPI.preloadAudio(f,B,J,z)},F=B=>{this.jsPsych.pluginAPI.preloadImages(u,B,J,z)};p.length>0&&w(()=>{}),f.length>0&&O(()=>{}),u.length>0&&F(()=>{})}function z(w){b(),n==null&&(n=!1);var O="unknown file";w.source&&(O=w.source),w.error&&w.error.path&&w.error.path.length>0&&(w.error.path[0].localName=="img"?s.push(O):w.error.path[0].localName=="audio"?o.push(O):w.error.path[0].localName=="video"&&a.push(O));var F="<p><strong>Error loading file: "+O+"</strong><br>";w.error.statusText&&(F+="File request response status: "+w.error.statusText+"<br>"),w.error=="404"&&(F+="404 - file not found.<br>"),typeof w.error.loaded<"u"&&w.error.loaded!==null&&w.error.loaded!==0?F+=w.error.loaded+" bytes transferred.":F+="File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.",F+="</p>",l.push(F),ae(O),D==j&&(i.continue_after_error?E():R())}function J(w){b(),ee(w),T++,T==j?v():D==j&&(i.continue_after_error?E():R())}function ae(w){i.on_error!==null&&i.on_error(w)}function ee(w){i.on_success!==null&&i.on_success(w)}}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={success:!0,timeout:!1,failed_images:[],failed_audio:[],failed_video:[]};return this.jsPsych.pluginAPI.mergeSimulationData(n,i)}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.jsPsych.getDisplayElement();this.trial(r,t),n()}}At.info=Qi;const Ji={name:"survey-multi-select",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},options:{type:h.STRING,pretty_name:"Options",array:!0,default:void 0},horizontal:{type:h.BOOL,pretty_name:"Horizontal",default:!1},required:{type:h.BOOL,pretty_name:"Required",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},required_message:{type:h.STRING,pretty_name:"Required message",default:"You must choose at least one response for this question"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class Tt{constructor(t){this.jsPsych=t}trial(t,i){var n="jspsych-survey-multi-select",r="#"+n;const s=(...T)=>T.join("-");var o=".jspsych-survey-multi-select-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-select-text span.required {color: darkred;}.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-text {  text-align: center;}.jspsych-survey-multi-select-option { line-height: 2; }.jspsych-survey-multi-select-horizontal .jspsych-survey-multi-select-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-select-text input[type='checkbox'] {margin-right: 1em;}";t.innerHTML='<style id="jspsych-survey-multi-select-css">'+o+"</style>";var a=s(n,"form");t.innerHTML+='<form id="'+a+'"></form>';var l=t.querySelector("#"+a);i.autocomplete||l.setAttribute("autocomplete","off");var c=s(n,"preamble");i.preamble!==null&&(l.innerHTML+='<div id="'+c+'" class="'+c+'">'+i.preamble+"</div>");for(var u=[],f=0;f<i.questions.length;f++)u.push(f);i.randomize_question_order&&(u=this.jsPsych.randomization.shuffle(u));for(var f=0;f<i.questions.length;f++){var p=i.questions[u[f]],d=u[f],g=[s(n,"question")];p.horizontal&&g.push(s(n,"horizontal")),l.innerHTML+='<div id="'+s(n,d)+'" data-name="'+p.name+'" class="'+g.join(" ")+'"></div>';var m=s(r,d);t.querySelector(m).innerHTML+='<p id="survey-question" class="'+n+'-text survey-multi-select">'+p.prompt+"</p>";for(var _=0;_<p.options.length;_++){var b=s(n,"option",d,_);t.querySelector(m).innerHTML+='<div id="'+b+'" class="'+s(n,"option")+'"></div>';var v=document.getElementById(b),Z=s(n,"response",d),R=s(n,"response",d,_),E=document.createElement("label");E.setAttribute("class",n+"-text"),E.innerHTML=p.options[_],E.setAttribute("for",R);var j=document.createElement("input");j.setAttribute("type","checkbox"),j.setAttribute("name",Z),j.setAttribute("id",R),j.setAttribute("value",p.options[_]),v.appendChild(E),E.insertBefore(j,E.firstChild)}}l.innerHTML+='<div class="fail-message"></div>',l.innerHTML+='<button id="'+n+'-next" class="'+n+' jspsych-btn">'+i.button_label+"</button>",t.querySelector("#jspsych-survey-multi-select-next").addEventListener("click",()=>{for(var T=0;T<i.questions.length;T++)i.questions[T].required&&(t.querySelector("#jspsych-survey-multi-select-"+T+" input:checked")==null?t.querySelector("#jspsych-survey-multi-select-"+T+" input").setCustomValidity(i.required_message):t.querySelector("#jspsych-survey-multi-select-"+T+" input").setCustomValidity(""));l.reportValidity()}),l.addEventListener("submit",T=>{T.preventDefault();for(var z=performance.now(),J=Math.round(z-D),ae={},ee=0;ee<i.questions.length;ee++){for(var w=t.querySelector("#jspsych-survey-multi-select-"+ee),O=[],F=w.querySelectorAll("input[type=checkbox]:checked"),B=0;B<F.length;B++){var mi=F[B];O.push(mi.value)}var yi="Q"+ee,$e={},We=yi;w.attributes["data-name"].value!==""&&(We=w.attributes["data-name"].value),$e[We]=O,Object.assign(ae,$e),O.length==0}var gi={rt:J,response:ae,question_order:u};t.innerHTML="",this.jsPsych.finishTrial(gi)});var D=performance.now()}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={};let r=1e3;for(const a of t.questions){let l;a.required?l=this.jsPsych.randomization.randomInt(1,a.options.length):l=this.jsPsych.randomization.randomInt(0,a.options.length);const c=a.name?a.name:`Q${t.questions.indexOf(a)}`,u=this.jsPsych.randomization.sampleWithoutReplacement(a.options,l);n[c]=u,r+=this.jsPsych.randomization.sampleExGaussian(1500,400,1/200,!0)}const s={response:n,rt:r,question_order:t.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(t.questions.length).keys()]):[...Array(t.questions.length).keys()]},o=this.jsPsych.pluginAPI.mergeSimulationData(s,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,o),o}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=Object.entries(r.response);for(let a=0;a<o.length;a++)for(const l of o[a][1])this.jsPsych.pluginAPI.clickTarget(s.querySelector(`#jspsych-survey-multi-select-response-${a}-${t.questions[a].options.indexOf(l)}`),(r.rt-1e3)/o.length*(a+1));this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-survey-multi-select-next"),r.rt)}}Tt.info=Ji;const Xi={name:"fullscreen",parameters:{fullscreen_mode:{type:h.BOOL,pretty_name:"Fullscreen mode",default:!0,array:!1},message:{type:h.HTML_STRING,pretty_name:"Message",default:"<p>The experiment will switch to full screen mode when you press the button below</p>",array:!1},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue",array:!1},delay_after:{type:h.INT,pretty_name:"Delay after",default:1e3,array:!1}}};class kt{constructor(t){this.jsPsych=t}trial(t,i){var n=typeof Element<"u"&&"ALLOW_KEYBOARD_INPUT"in Element;n?this.endTrial(t,!1,i):i.fullscreen_mode?this.showDisplay(t,i):(this.exitFullScreen(),this.endTrial(t,!0,i))}showDisplay(t,i){t.innerHTML=`
      ${i.message}
      <button id="jspsych-fullscreen-btn" class="jspsych-btn">${i.button_label}</button>
    `,t.querySelector("#jspsych-fullscreen-btn").addEventListener("click",()=>{this.enterFullScreen(),this.endTrial(t,!0,i)})}endTrial(t,i,n){t.innerHTML="",this.jsPsych.pluginAPI.setTimeout(()=>{var r={success:i};this.jsPsych.finishTrial(r)},n.delay_after)}enterFullScreen(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}exitFullScreen(){(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={success:!0};return this.jsPsych.pluginAPI.mergeSimulationData(n,i)}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();r.success===!1?this.endTrial(s,!1,t):(this.trial(s,t),n(),this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-fullscreen-btn"),this.jsPsych.randomization.sampleExGaussian(1e3,100,1/200,!0)))}}kt.info=Xi;const Zi={name:"instructions",parameters:{pages:{type:h.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0},key_forward:{type:h.KEY,pretty_name:"Key forward",default:"ArrowRight"},key_backward:{type:h.KEY,pretty_name:"Key backward",default:"ArrowLeft"},allow_backward:{type:h.BOOL,pretty_name:"Allow backward",default:!0},allow_keys:{type:h.BOOL,pretty_name:"Allow keys",default:!0},show_clickable_nav:{type:h.BOOL,pretty_name:"Show clickable nav",default:!1},show_page_number:{type:h.BOOL,pretty_name:"Show page number",default:!1},page_label:{type:h.STRING,pretty_name:"Page label",default:"Page"},button_label_previous:{type:h.STRING,pretty_name:"Button label previous",default:"Previous"},button_label_next:{type:h.STRING,pretty_name:"Button label next",default:"Next"}}};class Be{constructor(t){this.jsPsych=t}trial(t,i){var n=0,r=[],s=performance.now(),o=s;function a(m){m.target.removeEventListener("click",a),this.id==="jspsych-instructions-back"?u():this.id==="jspsych-instructions-next"&&c()}function l(){var m=i.pages[n],_="";if(i.show_page_number&&(_="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>"+i.page_label+" "+(n+1)+"/"+i.pages.length+"</span>"),i.show_clickable_nav){var b="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";if(i.allow_backward){var v=n>0?"":"disabled='disabled'";b+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+v+">&lt; "+i.button_label_previous+"</button>"}i.pages.length>1&&i.show_page_number&&(b+=_),b+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+i.button_label_next+" &gt;</button></div>",m+=b,t.innerHTML=m,n!=0&&i.allow_backward&&t.querySelector("#jspsych-instructions-back").addEventListener("click",a),t.querySelector("#jspsych-instructions-next").addEventListener("click",a)}else i.show_page_number&&i.pages.length>1&&(m+="<div class='jspsych-instructions-pagenum'>"+_+"</div>"),t.innerHTML=m}function c(){f(),n++,n>=i.pages.length?p():l()}function u(){f(),n--,l()}function f(){var m=performance.now(),_=Math.round(m-o);r.push({page_index:n,viewing_time:_}),o=m}const p=()=>{i.allow_keys&&this.jsPsych.pluginAPI.cancelKeyboardResponse(g),t.innerHTML="";var m={view_history:r,rt:Math.round(performance.now()-s)};this.jsPsych.finishTrial(m)},d=m=>{g=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[i.key_forward,i.key_backward],rt_method:"performance",persist:!1,allow_held_key:!1}),this.jsPsych.pluginAPI.compareKeys(m.key,i.key_backward)&&n!==0&&i.allow_backward&&u(),this.jsPsych.pluginAPI.compareKeys(m.key,i.key_forward)&&c()};if(l(),i.allow_keys)var g=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:[i.key_forward,i.key_backward],rt_method:"performance",persist:!1})}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){let n=0,r=0;const s=[];for(;n!==t.pages.length;){const l=this.jsPsych.randomization.sampleExGaussian(3e3,300,.0033333333333333335);s.push({page_index:n,viewing_time:l}),r+=l,n==0||!t.allow_backward||this.jsPsych.randomization.sampleBernoulli(.9)==1?n++:n--}const o={view_history:s,rt:r},a=this.jsPsych.pluginAPI.mergeSimulationData(o,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,a),a}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=u=>{t.allow_keys?this.jsPsych.pluginAPI.pressKey(t.key_forward,u):t.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-instructions-next"),u)},a=u=>{t.allow_keys?this.jsPsych.pluginAPI.pressKey(t.key_backward,u):t.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-instructions-back"),u)};let l=0,c=0;for(let u=0;u<r.view_history.length;u++)u==r.view_history.length-1?o(c+r.view_history[u].viewing_time):(r.view_history[u+1].page_index>l&&o(c+r.view_history[u].viewing_time),r.view_history[u+1].page_index<l&&a(c+r.view_history[u].viewing_time),c+=r.view_history[u].viewing_time,l=r.view_history[u+1].page_index)}}Be.info=Zi;const en={name:"html-keyboard-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0}}};class Te{constructor(t){this.jsPsych=t}trial(t,i){var n='<div id="jspsych-html-keyboard-response-stimulus">'+i.stimulus+"</div>";i.prompt!==null&&(n+=i.prompt),t.innerHTML=n;var r={rt:null,key:null};const s=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),typeof a<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(a);var l={rt:r.rt,stimulus:i.stimulus,response:r.key};t.innerHTML="",this.jsPsych.finishTrial(l)};var o=l=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",r.key==null&&(r=l),i.response_ends_trial&&s()};if(i.choices!="NO_KEYS")var a=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:o,valid_responses:i.choices,rt_method:"performance",persist:!1,allow_held_key:!1});i.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"},i.stimulus_duration),i.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(s,i.trial_duration)}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={stimulus:t.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0),response:this.jsPsych.pluginAPI.getValidKey(t.choices)},r=this.jsPsych.pluginAPI.mergeSimulationData(n,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,r),r}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n(),r.rt!==null&&this.jsPsych.pluginAPI.pressKey(r.response,r.rt)}}Te.info=en;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Et(e){return typeof e>"u"||e===null}function tn(e){return typeof e=="object"&&e!==null}function nn(e){return Array.isArray(e)?e:Et(e)?[]:[e]}function rn(e,t){var i,n,r,s;if(t)for(s=Object.keys(t),i=0,n=s.length;i<n;i+=1)r=s[i],e[r]=t[r];return e}function sn(e,t){var i="",n;for(n=0;n<t;n+=1)i+=e;return i}function on(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var an=Et,ln=tn,un=nn,cn=sn,fn=on,pn=rn,A={isNothing:an,isObject:ln,toArray:un,repeat:cn,isNegativeZero:fn,extend:pn};function St(e,t){var i="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(i+='in "'+e.mark.name+'" '),i+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(i+=`

`+e.mark.snippet),n+" "+i):n}function ce(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=St(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ce.prototype=Object.create(Error.prototype);ce.prototype.constructor=ce;ce.prototype.toString=function(t){return this.name+": "+St(this,t)};var I=ce;function Se(e,t,i,n,r){var s="",o="",a=Math.floor(r/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),i-n>a&&(o=" ...",i=n+a-o.length),{str:s+e.slice(t,i).replace(/\t/g,"→")+o,pos:n-t+s.length}}function Oe(e,t){return A.repeat(" ",t-e.length)+e}function hn(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var i=/\r?\n|\r|\0/g,n=[0],r=[],s,o=-1;s=i.exec(e.buffer);)r.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,u=Math.min(e.line+t.linesAfter,r.length).toString().length,f=t.maxLength-(t.indent+u+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Se(e.buffer,n[o-l],r[o-l],e.position-(n[o]-n[o-l]),f),a=A.repeat(" ",t.indent)+Oe((e.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=Se(e.buffer,n[o],r[o],e.position,f),a+=A.repeat(" ",t.indent)+Oe((e.line+1).toString(),u)+" | "+c.str+`
`,a+=A.repeat("-",t.indent+u+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=r.length);l++)c=Se(e.buffer,n[o+l],r[o+l],e.position-(n[o]-n[o+l]),f),a+=A.repeat(" ",t.indent)+Oe((e.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var dn=hn,mn=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],yn=["scalar","sequence","mapping"];function gn(e){var t={};return e!==null&&Object.keys(e).forEach(function(i){e[i].forEach(function(n){t[String(n)]=i})}),t}function _n(e,t){if(t=t||{},Object.keys(t).forEach(function(i){if(mn.indexOf(i)===-1)throw new I('Unknown option "'+i+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(i){return i},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=gn(t.styleAliases||null),yn.indexOf(this.kind)===-1)throw new I('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var k=_n;function Xe(e,t){var i=[];return e[t].forEach(function(n){var r=i.length;i.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(r=o)}),i[r]=n}),i}function vn(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,i;function n(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,i=arguments.length;t<i;t+=1)arguments[t].forEach(n);return e}function Ce(e){return this.extend(e)}Ce.prototype.extend=function(t){var i=[],n=[];if(t instanceof k)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(i=i.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new I("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(s){if(!(s instanceof k))throw new I("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new I("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new I("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof k))throw new I("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Ce.prototype);return r.implicit=(this.implicit||[]).concat(i),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=Xe(r,"implicit"),r.compiledExplicit=Xe(r,"explicit"),r.compiledTypeMap=vn(r.compiledImplicit,r.compiledExplicit),r};var Ot=Ce,Pt=new k("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),It=new k("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),jt=new k("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Lt=new Ot({explicit:[Pt,It,jt]});function wn(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function bn(){return null}function xn(e){return e===null}var Ct=new k("tag:yaml.org,2002:null",{kind:"scalar",resolve:wn,construct:bn,predicate:xn,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function An(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Tn(e){return e==="true"||e==="True"||e==="TRUE"}function kn(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Mt=new k("tag:yaml.org,2002:bool",{kind:"scalar",resolve:An,construct:Tn,predicate:kn,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function En(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Sn(e){return 48<=e&&e<=55}function On(e){return 48<=e&&e<=57}function Pn(e){if(e===null)return!1;var t=e.length,i=0,n=!1,r;if(!t)return!1;if(r=e[i],(r==="-"||r==="+")&&(r=e[++i]),r==="0"){if(i+1===t)return!0;if(r=e[++i],r==="b"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(r!=="0"&&r!=="1")return!1;n=!0}return n&&r!=="_"}if(r==="x"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(!En(e.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}if(r==="o"){for(i++;i<t;i++)if(r=e[i],r!=="_"){if(!Sn(e.charCodeAt(i)))return!1;n=!0}return n&&r!=="_"}}if(r==="_")return!1;for(;i<t;i++)if(r=e[i],r!=="_"){if(!On(e.charCodeAt(i)))return!1;n=!0}return!(!n||r==="_")}function In(e){var t=e,i=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(i=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return i*parseInt(t.slice(2),2);if(t[1]==="x")return i*parseInt(t.slice(2),16);if(t[1]==="o")return i*parseInt(t.slice(2),8)}return i*parseInt(t,10)}function jn(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!A.isNegativeZero(e)}var Nt=new k("tag:yaml.org,2002:int",{kind:"scalar",resolve:Pn,construct:In,predicate:jn,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ln=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Cn(e){return!(e===null||!Ln.test(e)||e[e.length-1]==="_")}function Mn(e){var t,i;return t=e.replace(/_/g,"").toLowerCase(),i=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:i*parseFloat(t,10)}var Nn=/^[-+]?[0-9]+e/;function Rn(e,t){var i;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(A.isNegativeZero(e))return"-0.0";return i=e.toString(10),Nn.test(i)?i.replace("e",".e"):i}function Fn(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||A.isNegativeZero(e))}var Rt=new k("tag:yaml.org,2002:float",{kind:"scalar",resolve:Cn,construct:Mn,predicate:Fn,represent:Rn,defaultStyle:"lowercase"}),Ft=Lt.extend({implicit:[Ct,Mt,Nt,Rt]}),Dt=Ft,qt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Bt=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Dn(e){return e===null?!1:qt.exec(e)!==null||Bt.exec(e)!==null}function qn(e){var t,i,n,r,s,o,a,l=0,c=null,u,f,p;if(t=qt.exec(e),t===null&&(t=Bt.exec(e)),t===null)throw new Error("Date resolve error");if(i=+t[1],n=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(i,n,r));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=+t[10],f=+(t[11]||0),c=(u*60+f)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(i,n,r,s,o,a,l)),c&&p.setTime(p.getTime()-c),p}function Bn(e){return e.toISOString()}var Ht=new k("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Dn,construct:qn,instanceOf:Date,represent:Bn});function Hn(e){return e==="<<"||e===null}var Yt=new k("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Hn}),He=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Yn(e){if(e===null)return!1;var t,i,n=0,r=e.length,s=He;for(i=0;i<r;i++)if(t=s.indexOf(e.charAt(i)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Kn(e){var t,i,n=e.replace(/[\r\n=]/g,""),r=n.length,s=He,o=0,a=[];for(t=0;t<r;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return i=r%4*6,i===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):i===18?(a.push(o>>10&255),a.push(o>>2&255)):i===12&&a.push(o>>4&255),new Uint8Array(a)}function zn(e){var t="",i=0,n,r,s=e.length,o=He;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[i>>18&63],t+=o[i>>12&63],t+=o[i>>6&63],t+=o[i&63]),i=(i<<8)+e[n];return r=s%3,r===0?(t+=o[i>>18&63],t+=o[i>>12&63],t+=o[i>>6&63],t+=o[i&63]):r===2?(t+=o[i>>10&63],t+=o[i>>4&63],t+=o[i<<2&63],t+=o[64]):r===1&&(t+=o[i>>2&63],t+=o[i<<4&63],t+=o[64],t+=o[64]),t}function Vn(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Kt=new k("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Yn,construct:Kn,predicate:Vn,represent:zn}),Un=Object.prototype.hasOwnProperty,Gn=Object.prototype.toString;function $n(e){if(e===null)return!0;var t=[],i,n,r,s,o,a=e;for(i=0,n=a.length;i<n;i+=1){if(r=a[i],o=!1,Gn.call(r)!=="[object Object]")return!1;for(s in r)if(Un.call(r,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function Wn(e){return e!==null?e:[]}var zt=new k("tag:yaml.org,2002:omap",{kind:"sequence",resolve:$n,construct:Wn}),Qn=Object.prototype.toString;function Jn(e){if(e===null)return!0;var t,i,n,r,s,o=e;for(s=new Array(o.length),t=0,i=o.length;t<i;t+=1){if(n=o[t],Qn.call(n)!=="[object Object]"||(r=Object.keys(n),r.length!==1))return!1;s[t]=[r[0],n[r[0]]]}return!0}function Xn(e){if(e===null)return[];var t,i,n,r,s,o=e;for(s=new Array(o.length),t=0,i=o.length;t<i;t+=1)n=o[t],r=Object.keys(n),s[t]=[r[0],n[r[0]]];return s}var Vt=new k("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Jn,construct:Xn}),Zn=Object.prototype.hasOwnProperty;function er(e){if(e===null)return!0;var t,i=e;for(t in i)if(Zn.call(i,t)&&i[t]!==null)return!1;return!0}function tr(e){return e!==null?e:{}}var Ut=new k("tag:yaml.org,2002:set",{kind:"mapping",resolve:er,construct:tr}),Ye=Dt.extend({implicit:[Ht,Yt],explicit:[Kt,zt,Vt,Ut]}),W=Object.prototype.hasOwnProperty,_e=1,Gt=2,$t=3,ve=4,Pe=1,ir=2,Ze=3,nr=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,rr=/[\x85\u2028\u2029]/,sr=/[,\[\]\{\}]/,Wt=/^(?:!|!!|![a-z\-]+!)$/i,Qt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function et(e){return Object.prototype.toString.call(e)}function q(e){return e===10||e===13}function X(e){return e===9||e===32}function L(e){return e===9||e===32||e===10||e===13}function ne(e){return e===44||e===91||e===93||e===123||e===125}function or(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function ar(e){return e===120?2:e===117?4:e===85?8:0}function lr(e){return 48<=e&&e<=57?e-48:-1}function tt(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function ur(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Jt=new Array(256),Xt=new Array(256);for(var te=0;te<256;te++)Jt[te]=tt(te)?1:0,Xt[te]=tt(te);function cr(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Ye,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Zt(e,t){var i={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return i.snippet=dn(i),new I(t,i)}function y(e,t){throw Zt(e,t)}function we(e,t){e.onWarning&&e.onWarning.call(null,Zt(e,t))}var it={YAML:function(t,i,n){var r,s,o;t.version!==null&&y(t,"duplication of %YAML directive"),n.length!==1&&y(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),r===null&&y(t,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),o=parseInt(r[2],10),s!==1&&y(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&we(t,"unsupported YAML version of the document")},TAG:function(t,i,n){var r,s;n.length!==2&&y(t,"TAG directive accepts exactly two arguments"),r=n[0],s=n[1],Wt.test(r)||y(t,"ill-formed tag handle (first argument) of the TAG directive"),W.call(t.tagMap,r)&&y(t,'there is a previously declared suffix for "'+r+'" tag handle'),Qt.test(s)||y(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{y(t,"tag prefix is malformed: "+s)}t.tagMap[r]=s}};function G(e,t,i,n){var r,s,o,a;if(t<i){if(a=e.input.slice(t,i),n)for(r=0,s=a.length;r<s;r+=1)o=a.charCodeAt(r),o===9||32<=o&&o<=1114111||y(e,"expected valid JSON character");else nr.test(a)&&y(e,"the stream contains non-printable characters");e.result+=a}}function nt(e,t,i,n){var r,s,o,a;for(A.isObject(i)||y(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(i),o=0,a=r.length;o<a;o+=1)s=r[o],W.call(t,s)||(t[s]=i[s],n[s]=!0)}function re(e,t,i,n,r,s,o,a,l){var c,u;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,u=r.length;c<u;c+=1)Array.isArray(r[c])&&y(e,"nested arrays are not supported inside keys"),typeof r=="object"&&et(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&et(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)nt(e,t,s[c],i);else nt(e,t,s,i);else!e.json&&!W.call(i,r)&&W.call(t,r)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,y(e,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(t,r,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[r]=s,delete i[r];return t}function Ke(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):y(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function x(e,t,i){for(var n=0,r=e.input.charCodeAt(e.position);r!==0;){for(;X(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(q(r))for(Ke(e),r=e.input.charCodeAt(e.position),n++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return i!==-1&&n!==0&&e.lineIndent<i&&we(e,"deficient indentation"),n}function ke(e){var t=e.position,i;return i=e.input.charCodeAt(t),!!((i===45||i===46)&&i===e.input.charCodeAt(t+1)&&i===e.input.charCodeAt(t+2)&&(t+=3,i=e.input.charCodeAt(t),i===0||L(i)))}function ze(e,t){t===1?e.result+=" ":t>1&&(e.result+=A.repeat(`
`,t-1))}function fr(e,t,i){var n,r,s,o,a,l,c,u,f=e.kind,p=e.result,d;if(d=e.input.charCodeAt(e.position),L(d)||ne(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(r=e.input.charCodeAt(e.position+1),L(r)||i&&ne(r)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;d!==0;){if(d===58){if(r=e.input.charCodeAt(e.position+1),L(r)||i&&ne(r))break}else if(d===35){if(n=e.input.charCodeAt(e.position-1),L(n))break}else{if(e.position===e.lineStart&&ke(e)||i&&ne(d))break;if(q(d))if(l=e.line,c=e.lineStart,u=e.lineIndent,x(e,!1,-1),e.lineIndent>=t){a=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=u;break}}a&&(G(e,s,o,!1),ze(e,e.line-l),s=o=e.position,a=!1),X(d)||(o=e.position+1),d=e.input.charCodeAt(++e.position)}return G(e,s,o,!1),e.result?!0:(e.kind=f,e.result=p,!1)}function pr(e,t){var i,n,r;if(i=e.input.charCodeAt(e.position),i!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(i=e.input.charCodeAt(e.position))!==0;)if(i===39)if(G(e,n,e.position,!0),i=e.input.charCodeAt(++e.position),i===39)n=e.position,e.position++,r=e.position;else return!0;else q(i)?(G(e,n,r,!0),ze(e,x(e,!1,t)),n=r=e.position):e.position===e.lineStart&&ke(e)?y(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);y(e,"unexpected end of the stream within a single quoted scalar")}function hr(e,t){var i,n,r,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return G(e,i,e.position,!0),e.position++,!0;if(a===92){if(G(e,i,e.position,!0),a=e.input.charCodeAt(++e.position),q(a))x(e,!1,t);else if(a<256&&Jt[a])e.result+=Xt[a],e.position++;else if((o=ar(a))>0){for(r=o,s=0;r>0;r--)a=e.input.charCodeAt(++e.position),(o=or(a))>=0?s=(s<<4)+o:y(e,"expected hexadecimal character");e.result+=ur(s),e.position++}else y(e,"unknown escape sequence");i=n=e.position}else q(a)?(G(e,i,n,!0),ze(e,x(e,!1,t)),i=n=e.position):e.position===e.lineStart&&ke(e)?y(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}y(e,"unexpected end of the stream within a double quoted scalar")}function dr(e,t){var i=!0,n,r,s,o=e.tag,a,l=e.anchor,c,u,f,p,d,g=Object.create(null),m,_,b,v;if(v=e.input.charCodeAt(e.position),v===91)u=93,d=!1,a=[];else if(v===123)u=125,d=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),v=e.input.charCodeAt(++e.position);v!==0;){if(x(e,!0,t),v=e.input.charCodeAt(e.position),v===u)return e.position++,e.tag=o,e.anchor=l,e.kind=d?"mapping":"sequence",e.result=a,!0;i?v===44&&y(e,"expected the node content, but found ','"):y(e,"missed comma between flow collection entries"),_=m=b=null,f=p=!1,v===63&&(c=e.input.charCodeAt(e.position+1),L(c)&&(f=p=!0,e.position++,x(e,!0,t))),n=e.line,r=e.lineStart,s=e.position,se(e,t,_e,!1,!0),_=e.tag,m=e.result,x(e,!0,t),v=e.input.charCodeAt(e.position),(p||e.line===n)&&v===58&&(f=!0,v=e.input.charCodeAt(++e.position),x(e,!0,t),se(e,t,_e,!1,!0),b=e.result),d?re(e,a,g,_,m,b,n,r,s):f?a.push(re(e,null,g,_,m,b,n,r,s)):a.push(m),x(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(i=!0,v=e.input.charCodeAt(++e.position)):i=!1}y(e,"unexpected end of the stream within a flow collection")}function mr(e,t){var i,n,r=Pe,s=!1,o=!1,a=t,l=0,c=!1,u,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)Pe===r?r=f===43?Ze:ir:y(e,"repeat of a chomping mode identifier");else if((u=lr(f))>=0)u===0?y(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?y(e,"repeat of an indentation width identifier"):(a=t+u-1,o=!0);else break;if(X(f)){do f=e.input.charCodeAt(++e.position);while(X(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!q(f)&&f!==0)}for(;f!==0;){for(Ke(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),q(f)){l++;continue}if(e.lineIndent<a){r===Ze?e.result+=A.repeat(`
`,s?1+l:l):r===Pe&&s&&(e.result+=`
`);break}for(n?X(f)?(c=!0,e.result+=A.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=A.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=A.repeat(`
`,l):e.result+=A.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,i=e.position;!q(f)&&f!==0;)f=e.input.charCodeAt(++e.position);G(e,i,e.position,!1)}return!0}function rt(e,t){var i,n=e.tag,r=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,y(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!L(o))));){if(a=!0,e.position++,x(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(i=e.line,se(e,t,$t,!1,!0),s.push(e.result),x(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===i||e.lineIndent>t)&&l!==0)y(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=r,e.kind="sequence",e.result=s,!0):!1}function yr(e,t,i){var n,r,s,o,a,l,c=e.tag,u=e.anchor,f={},p=Object.create(null),d=null,g=null,m=null,_=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),v=e.input.charCodeAt(e.position);v!==0;){if(!_&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,y(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&L(n))v===63?(_&&(re(e,f,p,d,g,null,o,a,l),d=g=m=null),b=!0,_=!0,r=!0):_?(_=!1,r=!0):y(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(o=e.line,a=e.lineStart,l=e.position,!se(e,i,Gt,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);X(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),L(v)||y(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(re(e,f,p,d,g,null,o,a,l),d=g=m=null),b=!0,_=!1,r=!1,d=e.tag,g=e.result;else if(b)y(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(b)y(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===s||e.lineIndent>t)&&(_&&(o=e.line,a=e.lineStart,l=e.position),se(e,t,ve,!0,r)&&(_?g=e.result:m=e.result),_||(re(e,f,p,d,g,m,o,a,l),d=g=m=null),x(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)y(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return _&&re(e,f,p,d,g,null,o,a,l),b&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=f),b}function gr(e){var t,i=!1,n=!1,r,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&y(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(i=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,r="!!",o=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):y(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!L(o);)o===33&&(n?y(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Wt.test(r)||y(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),sr.test(s)&&y(e,"tag suffix cannot contain flow indicator characters")}s&&!Qt.test(s)&&y(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{y(e,"tag name is malformed: "+s)}return i?e.tag=s:W.call(e.tagMap,r)?e.tag=e.tagMap[r]+s:r==="!"?e.tag="!"+s:r==="!!"?e.tag="tag:yaml.org,2002:"+s:y(e,'undeclared tag handle "'+r+'"'),!0}function _r(e){var t,i;if(i=e.input.charCodeAt(e.position),i!==38)return!1;for(e.anchor!==null&&y(e,"duplication of an anchor property"),i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!L(i)&&!ne(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&y(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function vr(e){var t,i,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!L(n)&&!ne(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&y(e,"name of an alias node must contain at least one character"),i=e.input.slice(t,e.position),W.call(e.anchorMap,i)||y(e,'unidentified alias "'+i+'"'),e.result=e.anchorMap[i],x(e,!0,-1),!0}function se(e,t,i,n,r){var s,o,a,l=1,c=!1,u=!1,f,p,d,g,m,_;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=ve===i||$t===i,n&&x(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;gr(e)||_r(e);)x(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||r),(l===1||ve===i)&&(_e===i||Gt===i?m=t:m=t+1,_=e.position-e.lineStart,l===1?a&&(rt(e,_)||yr(e,_,m))||dr(e,m)?u=!0:(o&&mr(e,m)||pr(e,m)||hr(e,m)?u=!0:vr(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&y(e,"alias node should not have any properties")):fr(e,m,_e===i)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(u=a&&rt(e,_))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&y(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,p=e.implicitTypes.length;f<p;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(W.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,d=e.typeMap.multi[e.kind||"fallback"],f=0,p=d.length;f<p;f+=1)if(e.tag.slice(0,d[f].tag.length)===d[f].tag){g=d[f];break}g||y(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&y(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):y(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function wr(e){var t=e.position,i,n,r,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(x(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),i=e.position;o!==0&&!L(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(i,e.position),r=[],n.length<1&&y(e,"directive name must not be less than one character in length");o!==0;){for(;X(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!q(o));break}if(q(o))break;for(i=e.position;o!==0&&!L(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(i,e.position))}o!==0&&Ke(e),W.call(it,n)?it[n](e,n,r):we(e,'unknown document directive "'+n+'"')}if(x(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,x(e,!0,-1)):s&&y(e,"directives end mark is expected"),se(e,e.lineIndent-1,ve,!1,!0),x(e,!0,-1),e.checkLineBreaks&&rr.test(e.input.slice(t,e.position))&&we(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ke(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,x(e,!0,-1));return}if(e.position<e.length-1)y(e,"end of the stream or a document separator is expected");else return}function ei(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var i=new cr(e,t),n=e.indexOf("\0");for(n!==-1&&(i.position=n,y(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)wr(i);return i.documents}function br(e,t,i){t!==null&&typeof t=="object"&&typeof i>"u"&&(i=t,t=null);var n=ei(e,i);if(typeof t!="function")return n;for(var r=0,s=n.length;r<s;r+=1)t(n[r])}function xr(e,t){var i=ei(e,t);if(i.length!==0){if(i.length===1)return i[0];throw new I("expected a single document in the stream, but found more")}}var Ar=br,Tr=xr,ti={loadAll:Ar,load:Tr},ii=Object.prototype.toString,ni=Object.prototype.hasOwnProperty,Ve=65279,kr=9,fe=10,Er=13,Sr=32,Or=33,Pr=34,Me=35,Ir=37,jr=38,Lr=39,Cr=42,ri=44,Mr=45,be=58,Nr=61,Rr=62,Fr=63,Dr=64,si=91,oi=93,qr=96,ai=123,Br=124,li=125,S={};S[0]="\\0";S[7]="\\a";S[8]="\\b";S[9]="\\t";S[10]="\\n";S[11]="\\v";S[12]="\\f";S[13]="\\r";S[27]="\\e";S[34]='\\"';S[92]="\\\\";S[133]="\\N";S[160]="\\_";S[8232]="\\L";S[8233]="\\P";var Hr=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Yr=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Kr(e,t){var i,n,r,s,o,a,l;if(t===null)return{};for(i={},n=Object.keys(t),r=0,s=n.length;r<s;r+=1)o=n[r],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&ni.call(l.styleAliases,a)&&(a=l.styleAliases[a]),i[o]=a;return i}function zr(e){var t,i,n;if(t=e.toString(16).toUpperCase(),e<=255)i="x",n=2;else if(e<=65535)i="u",n=4;else if(e<=4294967295)i="U",n=8;else throw new I("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+A.repeat("0",n-t.length)+t}var Vr=1,pe=2;function Ur(e){this.schema=e.schema||Ye,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=A.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Kr(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?pe:Vr,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function st(e,t){for(var i=A.repeat(" ",t),n=0,r=-1,s="",o,a=e.length;n<a;)r=e.indexOf(`
`,n),r===-1?(o=e.slice(n),n=a):(o=e.slice(n,r+1),n=r+1),o.length&&o!==`
`&&(s+=i),s+=o;return s}function Ne(e,t){return`
`+A.repeat(" ",e.indent*t)}function Gr(e,t){var i,n,r;for(i=0,n=e.implicitTypes.length;i<n;i+=1)if(r=e.implicitTypes[i],r.resolve(t))return!0;return!1}function xe(e){return e===Sr||e===kr}function he(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Ve||65536<=e&&e<=1114111}function ot(e){return he(e)&&e!==Ve&&e!==Er&&e!==fe}function at(e,t,i){var n=ot(e),r=n&&!xe(e);return(i?n:n&&e!==ri&&e!==si&&e!==oi&&e!==ai&&e!==li)&&e!==Me&&!(t===be&&!r)||ot(t)&&!xe(t)&&e===Me||t===be&&r}function $r(e){return he(e)&&e!==Ve&&!xe(e)&&e!==Mr&&e!==Fr&&e!==be&&e!==ri&&e!==si&&e!==oi&&e!==ai&&e!==li&&e!==Me&&e!==jr&&e!==Cr&&e!==Or&&e!==Br&&e!==Nr&&e!==Rr&&e!==Lr&&e!==Pr&&e!==Ir&&e!==Dr&&e!==qr}function Wr(e){return!xe(e)&&e!==be}function ue(e,t){var i=e.charCodeAt(t),n;return i>=55296&&i<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(i-55296)*1024+n-56320+65536:i}function ui(e){var t=/^\n* /;return t.test(e)}var ci=1,Re=2,fi=3,pi=4,ie=5;function Qr(e,t,i,n,r,s,o,a){var l,c=0,u=null,f=!1,p=!1,d=n!==-1,g=-1,m=$r(ue(e,0))&&Wr(ue(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ue(e,l),!he(c))return ie;m=m&&at(c,u,a),u=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ue(e,l),c===fe)f=!0,d&&(p=p||l-g-1>n&&e[g+1]!==" ",g=l);else if(!he(c))return ie;m=m&&at(c,u,a),u=c}p=p||d&&l-g-1>n&&e[g+1]!==" "}return!f&&!p?m&&!o&&!r(e)?ci:s===pe?ie:Re:i>9&&ui(e)?ie:o?s===pe?ie:Re:p?pi:fi}function Jr(e,t,i,n,r){e.dump=function(){if(t.length===0)return e.quotingType===pe?'""':"''";if(!e.noCompatMode&&(Hr.indexOf(t)!==-1||Yr.test(t)))return e.quotingType===pe?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,i),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&i>=e.flowLevel;function l(c){return Gr(e,c)}switch(Qr(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,r)){case ci:return t;case Re:return"'"+t.replace(/'/g,"''")+"'";case fi:return"|"+lt(t,e.indent)+ut(st(t,s));case pi:return">"+lt(t,e.indent)+ut(st(Xr(t,o),s));case ie:return'"'+Zr(t)+'"';default:throw new I("impossible error: invalid scalar style")}}()}function lt(e,t){var i=ui(e)?String(t):"",n=e[e.length-1]===`
`,r=n&&(e[e.length-2]===`
`||e===`
`),s=r?"+":n?"":"-";return i+s+`
`}function ut(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Xr(e,t){for(var i=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,i.lastIndex=c,ct(e.slice(0,c),t)}(),r=e[0]===`
`||e[0]===" ",s,o;o=i.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!r&&!s&&l!==""?`
`:"")+ct(l,t),r=s}return n}function ct(e,t){if(e===""||e[0]===" ")return e;for(var i=/ [^ ]/g,n,r=0,s,o=0,a=0,l="";n=i.exec(e);)a=n.index,a-r>t&&(s=o>r?o:a,l+=`
`+e.slice(r,s),r=s+1),o=a;return l+=`
`,e.length-r>t&&o>r?l+=e.slice(r,o)+`
`+e.slice(o+1):l+=e.slice(r),l.slice(1)}function Zr(e){for(var t="",i=0,n,r=0;r<e.length;i>=65536?r+=2:r++)i=ue(e,r),n=S[i],!n&&he(i)?(t+=e[r],i>=65536&&(t+=e[r+1])):t+=n||zr(i);return t}function es(e,t,i){var n="",r=e.tag,s,o,a;for(s=0,o=i.length;s<o;s+=1)a=i[s],e.replacer&&(a=e.replacer.call(i,String(s),a)),(K(e,t,a,!1,!1)||typeof a>"u"&&K(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=r,e.dump="["+n+"]"}function ft(e,t,i,n){var r="",s=e.tag,o,a,l;for(o=0,a=i.length;o<a;o+=1)l=i[o],e.replacer&&(l=e.replacer.call(i,String(o),l)),(K(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&K(e,t+1,null,!0,!0,!1,!0))&&((!n||r!=="")&&(r+=Ne(e,t)),e.dump&&fe===e.dump.charCodeAt(0)?r+="-":r+="- ",r+=e.dump);e.tag=s,e.dump=r||"[]"}function ts(e,t,i){var n="",r=e.tag,s=Object.keys(i),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",n!==""&&(u+=", "),e.condenseFlow&&(u+='"'),l=s[o],c=i[l],e.replacer&&(c=e.replacer.call(i,l,c)),K(e,t,l,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),K(e,t,c,!1,!1)&&(u+=e.dump,n+=u));e.tag=r,e.dump="{"+n+"}"}function is(e,t,i,n){var r="",s=e.tag,o=Object.keys(i),a,l,c,u,f,p;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new I("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)p="",(!n||r!=="")&&(p+=Ne(e,t)),c=o[a],u=i[c],e.replacer&&(u=e.replacer.call(i,c,u)),K(e,t+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&fe===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,f&&(p+=Ne(e,t)),K(e,t+1,u,!0,f)&&(e.dump&&fe===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,r+=p));e.tag=s,e.dump=r||"{}"}function pt(e,t,i){var n,r,s,o,a,l;for(r=i?e.explicitTypes:e.implicitTypes,s=0,o=r.length;s<o;s+=1)if(a=r[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(i?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,ii.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(ni.call(a.represent,l))n=a.represent[l](t,l);else throw new I("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function K(e,t,i,n,r,s,o){e.tag=null,e.dump=i,pt(e,i,!1)||pt(e,i,!0);var a=ii.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var u=a==="[object Object]"||a==="[object Array]",f,p;if(u&&(f=e.duplicates.indexOf(i),p=f!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(r=!1),p&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(u&&p&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(is(e,t,e.dump,r),p&&(e.dump="&ref_"+f+e.dump)):(ts(e,t,e.dump),p&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?ft(e,t-1,e.dump,r):ft(e,t,e.dump,r),p&&(e.dump="&ref_"+f+e.dump)):(es(e,t,e.dump),p&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Jr(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new I("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function ns(e,t){var i=[],n=[],r,s;for(Fe(e,i,n),r=0,s=n.length;r<s;r+=1)t.duplicates.push(i[n[r]]);t.usedDuplicates=new Array(s)}function Fe(e,t,i){var n,r,s;if(e!==null&&typeof e=="object")if(r=t.indexOf(e),r!==-1)i.indexOf(r)===-1&&i.push(r);else if(t.push(e),Array.isArray(e))for(r=0,s=e.length;r<s;r+=1)Fe(e[r],t,i);else for(n=Object.keys(e),r=0,s=n.length;r<s;r+=1)Fe(e[n[r]],t,i)}function rs(e,t){t=t||{};var i=new Ur(t);i.noRefs||ns(e,i);var n=e;return i.replacer&&(n=i.replacer.call({"":n},"",n)),K(i,0,n,!0,!0)?i.dump+`
`:""}var ss=rs,os={dump:ss};function Ue(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var as=k,ls=Ot,us=Lt,cs=Ft,fs=Dt,ps=Ye,hs=ti.load,ds=ti.loadAll,ms=os.dump,ys=I,gs={binary:Kt,float:Rt,map:jt,null:Ct,pairs:Vt,set:Ut,timestamp:Ht,bool:Mt,int:Nt,merge:Yt,omap:zt,seq:It,str:Pt},_s=Ue("safeLoad","load"),vs=Ue("safeLoadAll","loadAll"),ws=Ue("safeDump","dump"),bs={Type:as,Schema:ls,FAILSAFE_SCHEMA:us,JSON_SCHEMA:cs,CORE_SCHEMA:fs,DEFAULT_SCHEMA:ps,load:hs,loadAll:ds,dump:ms,YAMLException:ys,types:gs,safeLoad:_s,safeLoadAll:vs,safeDump:ws};async function xs(e){try{const i=await(await fetch(e)).text(),n=bs.load(i);return window.arguments=n,n}catch(t){console.error(t)}}const ht="abcdefghijklmnopqrstuvwxyz";function As(e){let t=[];return ht.split("").forEach(function(i){ht.split("").forEach(function(n){const r=`${i},${n}`;t.indexOf(r)===-1&&i!==n&&t.push(r)})}),t=t.sort(()=>.5-Math.random()),t.slice(0,e)}function hi(e){if(e===void 0)return!0;if(e.constructor.name==="Array")return e.length===0?!0:e.every(t=>t===null);if(typeof e=="string")return e===""}function Ts(e){let t=document.getElementById(e),i=parseInt(t.innerHTML||5),n=setInterval(function(){i<0?clearInterval(n):t.innerHTML=`${i} sec`,i--},1e3)}let H=[];function ks(e,t){const i=function(n){let r;H.at(-1)===!0?(H.pop(),r="green"):r="red",H.push({key:n.key,color:r}),console.log(H.length),H.length>t&&H.shift();let s=document.getElementById(e);s.innerHTML="",H.forEach(function(o){let a=document.createElement("li");a.textContent=o.key,a.style.color=o.color,s.appendChild(a)})};return H=[],document.addEventListener("keydown",i,!0),i}function Ee(e,t,i,n){return e.type=t[e.type],i&&(e.pages=["".concat(e.pages[0],e.groups[i],e.pages[1])],delete e[i]),n&&(e.on_start=n),e}function Es(e,t){const i={};e.forEach(o=>{Object.keys(o).forEach(a=>{if(t.includes(a)&&typeof o[a]=="number"){i[a]||(i[a]={sum:0,count:0,mean:0,variance:0,stdDev:0,min:o[a],max:o[a]});const l=o[a];i[a].sum+=l,i[a].count++,i[a].mean=i[a].sum/i[a].count,i[a].variance+=(l-i[a].mean)**2,i[a].stdDev=Math.sqrt(i[a].variance/i[a].count),l<i[a].min&&(i[a].min=l),l>i[a].max&&(i[a].max=l)}})});const n=document.createElement("table"),r=n.insertRow(),s=Object.keys(i);return s.unshift("stats"),s.forEach(o=>{const a=document.createElement("th");a.textContent=o,r.appendChild(a)}),["mean","stdDev","min","max"].forEach(o=>{const a=n.insertRow();Object.entries(i).forEach(([l,c],u)=>{if(u==0){const p=a.insertCell();p.textContent=o}const f=a.insertCell();f.textContent=c[o].toFixed(2)})}),n}function Ss(){document.fullscreenElement||alert("You leave the fullscreen mode, please go to full screen")}const Os={name:"html-display-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0},num_keypress_display:{type:h.INT,pretty_name:"Keyboard presses number",default:0},remain_time_display:{type:h.BOOL,pretty_name:"Buttom right will display the remaining time from trial duration",default:!1}}};class Ge extends Te{trial(t,i){var n=`
        <div id="jspsych-html-keyboard-response-stimulus" style="display: flex; flex-direction: column"> 
            <h1 id="keypress-count"></h2>
            <table class="response-display-wrapper">
            <tr class="row-time"> <td>time left: </td> <td><span id="keypress-timer">${i.trial_duration/1e3} sec</span></td></tr>
            <tr class="row-hist"> <td>you typed: </td> <td> <ul id="keypress-hist"> </ul></td></tr>
            </table>
        </div>`;n+=i.prompt||"",t.innerHTML=n;var r={rt_valid:null,rt_typed:null,typed:0,score:0};const s=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),typeof f<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(f),typeof p<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(p),typeof u<"u"&&document.removeEventListener("keydown",u,!0);var d={rt_valid:r.rt_valid,rt_typed:r.rt_typed,typed:r.typed,score:r.score};t.innerHTML="",this.jsPsych.finishTrial(d)};let o=0,a=i.choices.length;var l=d=>{t.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",r.score===0&&(r.rt_valid=d.rt),jsPsych.pluginAPI.compareKeys(d.key,i.choices[o])&&(r.score++,$("#keypress-count").html(r.score.toString()),H.push(!0),o=(o+1)%a),i.response_ends_trial&&s()},c=d=>{r.typed===0&&(r.rt_typed=d.rt),r.typed++};if(i.remain_time_display&&($("tr.row-time").css("visibility","visible"),Ts("keypress-timer")),i.num_keypress_display>0){$("tr.row-hist").css("visibility","visible");var u=ks("keypress-hist",i.num_keypress_display)}if(i.choices!="NO_KEYS"){$(".row-count").css("visibility","visible");var f=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:l,valid_responses:i.choices,rt_method:"performance",persist:!i.response_ends_trial,allow_held_key:!1}),p=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:c,rt_method:"performance",persist:!i.response_ends_trial,allow_held_key:!1})}i.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{$("#jspsych-html-keyboard-response-stimulus").css("visibility","hidden")},i.stimulus_duration),i.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(s,i.trial_duration)}}Ge.info=Os;const oe={preload:At,checkbox:Tt,fullscreen:kt,instruct:Be,response:Te,display:Ge},M={colorOrder:Math.floor(Math.random()*2),pM:Array("easy","hard")[Math.floor(Math.random()*2)],pEM:[10,10],gameTypeOrder:Math.floor(Math.random()*2),val:3,nTrials:50},C={game1:M.colorOrder==1?"Green Game":"Blue Game",color1:M.colorOrder==1?"green":"blue",hex1:M.colorOrder==1?"#00aa00":"#1067e8",span1:M.colorOrder==1?"a-span":"b-span",game2:M.colorOrder==0?"Green Game":"Blue Game",color2:M.colorOrder==0?"green":"blue",hex2:M.colorOrder==0?"#00aa00":"#1067e8",span2:M.colorOrder==0?"a-span":"b-span",value:M.val.toString(),plural:"s",wasWere:"were"},de=jsPsych=Wi({on_finish:()=>{jsPsych.data.displayData()}}),Ps={name:"survey-multi-choice",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},options:{type:h.STRING,pretty_name:"Options",array:!0,default:void 0},required:{type:h.BOOL,pretty_name:"Required",default:!1},horizontal:{type:h.BOOL,pretty_name:"Horizontal",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class di{constructor(t){this.jsPsych=t}trial(t,i){var n="jspsych-survey-multi-choice",r="";r+='<style id="jspsych-survey-multi-choice-css">',r+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",r+="</style>",i.preamble!==null&&(r+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+i.preamble+"</div>"),i.autocomplete?r+='<form id="jspsych-survey-multi-choice-form">':r+='<form id="jspsych-survey-multi-choice-form" autocomplete="off">';for(var s=[],o=0;o<i.questions.length;o++)s.push(o);i.randomize_question_order&&(s=this.jsPsych.randomization.shuffle(s));for(var o=0;o<i.questions.length;o++){var a=i.questions[s[o]],l=s[o],c=["jspsych-survey-multi-choice-question"];a.horizontal&&c.push("jspsych-survey-multi-choice-horizontal"),r+='<div id="jspsych-survey-multi-choice-'+l+'" class="'+c.join(" ")+'"  data-name="'+a.name+'">',r+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+a.prompt,a.required&&(r+="<span class='required'>*</span>"),r+="</p>";for(var u=0;u<a.options.length;u++){var f="jspsych-survey-multi-choice-option-"+l+"-"+u,p="jspsych-survey-multi-choice-response-"+l,d="jspsych-survey-multi-choice-response-"+l+"-"+u,g=a.required?"required":"";r+='<div id="'+f+'" class="jspsych-survey-multi-choice-option">',r+='<label class="jspsych-survey-multi-choice-text" for="'+d+'">',r+='<input type="radio" name="'+p+'" id="'+d+'" value="'+a.options[u]+'" '+g+"></input>",r+=a.options[u]+"</label>",r+="</div>"}r+="</div>"}r+='<input type="submit" id="'+n+'-next" class="'+n+' jspsych-btn"'+(i.button_label?' value="'+i.button_label+'"':"")+"></input>",r+="</form>",t.innerHTML=r,document.querySelector("form").addEventListener("submit",_=>{_.preventDefault();for(var b=performance.now(),v=Math.round(b-m),Z={},R=0;R<i.questions.length;R++){var E=t.querySelector("#jspsych-survey-multi-choice-"+R),j="Q"+R,D;E.querySelector("input[type=radio]:checked")!==null?D=E.querySelector("input[type=radio]:checked").value:D="";var T={},z=j;E.attributes["data-name"].value!==""&&(z=E.attributes["data-name"].value),T[z]=D,Object.assign(Z,T)}var J={rt:v,response:Z,question_order:s};t.innerHTML="",this.jsPsych.finishTrial(J)});var m=performance.now()}simulate(t,i,n,r){i=="data-only"&&(r(),this.simulate_data_only(t,n)),i=="visual"&&this.simulate_visual(t,n,r)}create_simulation_data(t,i){const n={};let r=1e3;for(const a of t.questions){const l=a.name?a.name:`Q${t.questions.indexOf(a)}`;n[l]=this.jsPsych.randomization.sampleWithoutReplacement(a.options,1)[0],r+=this.jsPsych.randomization.sampleExGaussian(1500,400,1/200,!0)}const s={response:n,rt:r,question_order:t.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(t.questions.length).keys()]):[...Array(t.questions.length).keys()]},o=this.jsPsych.pluginAPI.mergeSimulationData(s,i);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(t,o),o}simulate_data_only(t,i){const n=this.create_simulation_data(t,i);this.jsPsych.finishTrial(n)}simulate_visual(t,i,n){const r=this.create_simulation_data(t,i),s=this.jsPsych.getDisplayElement();this.trial(s,t),n();const o=Object.entries(r.response);for(let a=0;a<o.length;a++)this.jsPsych.pluginAPI.clickTarget(s.querySelector(`#jspsych-survey-multi-choice-response-${a}-${t.questions[a].options.indexOf(o[a][1])}`),(r.rt-1e3)/o.length*(a+1));this.jsPsych.pluginAPI.clickTarget(s.querySelector("#jspsych-survey-multi-choice-next"),r.rt)}}di.info=Ps;const Ae=(...e)=>{let t=[];for(let i of e)t.push(`<div class='parent'>${i}</div>`);return{type:Be,pages:t,show_clickable_nav:!0,post_trial_gap:500}};Ae(`
<p>Thank you for playing the <span class='${C.span1}'>${C.game1}</span>!</p>
When you're ready, continue to learn about and play the <span class='${C.span2}'>${C.game2}</span>.</p>
`);Ae(`
<p>You are now ready to play the <span class='${C.span1}'>${C.game1}</span>.</p>
<p>Once you proceed, the <span class='${C.span1}'>${C.game1}</span> will start immediately, 
so get ready to press your SPACEBAR.</p>
<p>Continue to the next screen to begin.</p>
`);const dt=[`<p>The <span class='${C.span1}'>${C.game1}</span> is played in multiple rounds.</p>`,`<p>In each round, you'll have five chances to "activate" tiles like this one.<br>
    If you activate a tile before your five chances are up, you'll win the round.</p>
    <div class='box' style='background-color:gray'></div>`],mt=[`<p>To earn money in the <span class='${C.span1}'>${C.game1}</span>, you must achieve wins.<br>
    The more wins you achieve, the more money you'll earn.</p>`,`<p>To achieve wins, you'll try to "activate" tiles like this one.<br>
    Activating a tile results in a win.</p>
    <div class='box' style='background-color:gray'></div>`];var yt;const Is=(e,t,i)=>{if(i=="R1")var n=M.gameTypeOrder==0?"True":"False",r=M.gameTypeOrder==0?dt:mt;else var n=M.gameTypeOrder==0?"False":"True",r=M.gameTypeOrder==0?mt:dt;const s=Ae(...r),o=`attnChk1_${i}`,a={type:di,preamble:`<div style="font-size:16px"><p>To make sure you understand the <span class='${e}'>${t}</span>, please indicate whether the following statement is true or false:</p></div>`,questions:[{prompt:`The <span class='${e}'>${t}</span> is played in multiple rounds, and you have five chances to activate a tile per round.`,name:o,options:["True","False"]}],scale_width:500,on_finish:function(u){yt=u.response[o]}},l=function(){return yt!=n},c={timeline:[Ae("<p>You provided a wrong answer.<br>To make sure you understand the game, please continue to re-read the instructions.</p>")],conditional_function:l};return{timeline:[s,a,c],loop_function:l}};Is(C.span1,C.game1,"R1");function js(e){const t=[];return e.forEach(i=>{let[n,r]=i.split(",");t.push({choices:[n,r]})}),t}class Ls{constructor({numOfTrial:t=1,trial_duration:i=5,fixation_duration:n=3,num_keypress_display:r=5,list:s=[],data:o={}}={}){if(this.numOfTrial=t,this.num_keypress_display=r,this.list=s,this.data=o,s.length==0)this.list=[].concat.apply([],letters.map(a=>alphabet.map(l=>a+l))),this.list=As(t);else if(s.length!==t)throw new Error("Number of elements in defined list should be equal to numOfTrial");this.trial_duration=i*1e3,this.fixation_duration=n*1e3}getTrial(){const t=[];return t.push({on_start:i=>{let[n,r]=i.stimulus;i.stimulus=`<p>type ${n} and then ${r} as many as you can</p>`},type:Te,stimulus:jsPsych.timelineVariable("choices"),choices:"NO_KEYS",trial_duration:this.fixation_duration,data:{phase:"practice_fixation"}}),t.push({on_start:i=>{let[n,r]=i.choices;i.prompt=`<p>type ${n} and then ${r} as many as you can</p>`},type:Ge,stimulus:"",choices:jsPsych.timelineVariable("choices"),remain_time_display:!0,num_keypress_display:this.num_keypress_display,response_ends_trial:!1,data:this.data,trial_duration:()=>this.trial_duration}),{timeline:t,timeline_variables:js(this.list),randomize_order:!0}}}const N=await xs("configs/default.yaml");N.condition=de.randomization.sampleWithoutReplacement(["binary streak","continuous streak","binary framing"],1);de.data.addProperties({date:new Date,condition:N.condition});const Q=[];hi(N.images_to_preload)||Q.push({type:oe.preload,images:N.images_to_preload});N.fullscreen&&(Q.push({type:oe.fullscreen}),document.addEventListener("fullscreenchange",Ss));Q.push(Ee(N.consent,oe));Q.push(Ee(N.practice_instruction,oe));Q.push(new Ls(N.practice).getTrial());const Cs=()=>{const e=[...Object.values(de.data.get().filter({phrase:"practice"}))][0];if(!hi(e)){const i=Es(e,["rt_valid","rt_typed","typed","score"]);$(".jspsych-content-wrapper").html(i)}};Q.push(Ee(N.practice_end,oe,void 0,Cs));Q.push(Ee(N.bonus_instruction,oe,N.condition));de.opts.show_progress_bar=N.show_progress_bar;de.run(Q);

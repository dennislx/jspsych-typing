(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function P(n,e,t,s){function i(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function l(u){try{c(s.next(u))}catch(d){a(d)}}function o(u){try{c(s.throw(u))}catch(d){a(d)}}function c(u){u.done?r(u.value):i(u.value).then(l,o)}c((s=s.apply(n,e||[])).next())})}var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const ue=n=>{const e=new Set;do for(const t of Reflect.ownKeys(n))e.add([n,t]);while((n=Reflect.getPrototypeOf(n))&&n!==Object.prototype);return e};var A=(n,{include:e,exclude:t}={})=>{const s=i=>{const r=a=>typeof a=="string"?i===a:a.test(i);return e?e.some(r):t?!t.some(r):!0};for(const[i,r]of ue(n.constructor.prototype)){if(r==="constructor"||!s(r))continue;const a=Reflect.getOwnPropertyDescriptor(i,r);a&&typeof a.value=="function"&&(n[r]=n[r].bind(n))}return n},ce="7.3.1";class k extends Error{constructor(e="The global `jsPsych` variable is no longer available in jsPsych v7."){super(`${e} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`),this.name="MigrationError"}}window.jsPsych={get init(){throw new k("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new k},get randomization(){throw new k},get turk(){throw new k},get pluginAPI(){throw new k},get ALL_KEYS(){throw new k('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new k('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};function E(n){return[...new Set(n)]}function T(n){if(!n)return n;let e;if(Array.isArray(n)){e=[];for(const t of n)e.push(T(t));return e}else if(typeof n=="object"&&n!==null){e={};for(const t in n)n.hasOwnProperty(t)&&(e[t]=T(n[t]));return e}else return n}var he=Object.freeze({__proto__:null,unique:E,deepCopy:T});class q{constructor(e=[]){this.values=e}sum(){let e=0;for(const t of this.values)e+=t;return e}mean(){return this.sum()/this.count()}median(){if(this.values.length===0)return;const e=this.values.slice(0).sort(function(i,r){return i-r}),t=Math.floor(e.length/2);return e.length%2===0?(e[t]+e[t-1])/2:e[t]}min(){return Math.min.apply(null,this.values)}max(){return Math.max.apply(null,this.values)}count(){return this.values.length}variance(){const e=this.mean();let t=0;for(const i of this.values)t+=Math.pow(i-e,2);return t/(this.values.length-1)}sd(){const e=this.variance();return Math.sqrt(e)}frequencies(){const e={};for(const t of this.values)typeof e[t]>"u"?e[t]=1:e[t]++;return e}all(e){for(const t of this.values)if(!e(t))return!1;return!0}subset(e){const t=[];for(const s of this.values)e(s)&&t.push(s);return new q(t)}}function de(n,e){const t=new Blob([n],{type:"text/plain"});let s="";typeof window.webkitURL<"u"?s=window.webkitURL.createObjectURL(t):s=window.URL.createObjectURL(t);const i=document.createElement("a");i.id="jspsych-download-as-text-link",i.style.display="none",i.download=e,i.href=s,i.click()}function pe(n){const e=typeof n!="object"?JSON.parse(n):n;let t="",s="";const i=[];for(const r of e)for(const a in r){let l=a+"";l='"'+l.replace(/"/g,'""')+'",',i.includes(a)||(i.push(a),t+=l)}t=t.slice(0,-1),s+=t+`\r
`;for(const r of e){t="";for(const a of i){let l=typeof r[a]>"u"?"":r[a];typeof l=="object"&&(l=JSON.stringify(l));const o=l+"";t+='"'+o.replace(/"/g,'""')+'",'}t=t.slice(0,-1),s+=t+`\r
`}return s}function fe(){const n=window.location.search.substr(1).split("&"),e={};for(let t=0;t<n.length;++t){const s=n[t].split("=",2);s.length==1?e[s[0]]="":e[s[0]]=decodeURIComponent(s[1].replace(/\+/g," "))}return e}class y{constructor(e=[]){this.trials=e}push(e){return this.trials.push(e),this}join(e){return this.trials=this.trials.concat(e.values()),this}top(){return this.trials.length<=1?this:new y([this.trials[this.trials.length-1]])}first(e=1){if(e<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new y:(e>this.trials.length&&(e=this.trials.length),new y(this.trials.slice(0,e)))}last(e=1){if(e<1)throw`You must query with a positive nonzero integer. Please use a
               different value for n.`;return this.trials.length===0?new y:(e>this.trials.length&&(e=this.trials.length),new y(this.trials.slice(this.trials.length-e,this.trials.length)))}values(){return this.trials}count(){return this.trials.length}readOnly(){return new y(T(this.trials))}addToAll(e){for(const t of this.trials)Object.assign(t,e);return this}addToLast(e){return this.trials.length!=0&&Object.assign(this.trials[this.trials.length-1],e),this}filter(e){let t;Array.isArray(e)?t=T(e):t=T([e]);const s=[];for(const i of this.trials){let r=!1;for(const a of t){let l=!0;for(const o of Object.keys(a))typeof i[o]<"u"&&i[o]===a[o]||(l=!1);if(l){r=!0;break}}r&&s.push(i)}return new y(s)}filterCustom(e){return new y(this.trials.filter(e))}filterColumns(e){return new y(this.trials.map(t=>Object.fromEntries(e.filter(s=>s in t).map(s=>[s,t[s]]))))}select(e){const t=[];for(const s of this.trials)typeof s[e]<"u"&&t.push(s[e]);return new q(t)}ignore(e){Array.isArray(e)||(e=[e]);const t=T(this.trials);for(const s of t)for(const i of e)delete s[i];return new y(t)}uniqueNames(){const e=[];for(const t of this.trials)for(const s of Object.keys(t))e.includes(s)||e.push(s);return e}csv(){return pe(this.trials)}json(e=!1){return e?JSON.stringify(this.trials,null,"	"):JSON.stringify(this.trials)}localSave(e,t){e=e.toLowerCase();let s;if(e==="json")s=this.json();else if(e==="csv")s=this.csv();else throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');de(s,t)}}class me{constructor(e){this.jsPsych=e,this.dataProperties={},this.reset()}reset(){this.allData=new y,this.interactionData=new y}get(){return this.allData}getInteractionData(){return this.interactionData}write(e){const t=this.jsPsych.getProgress(),s=this.jsPsych.getCurrentTrial(),i={trial_type:s.type.info.name,trial_index:t.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},e),s.data),i),this.dataProperties))}addProperties(e){this.allData.addToAll(e),this.dataProperties=Object.assign({},this.dataProperties,e)}addDataToLastTrial(e){this.allData.addToLast(e)}getDataByTimelineNode(e){return this.allData.filterCustom(t=>t.internal_node_id.slice(0,e.length)===e)}getLastTrialData(){return this.allData.top()}getLastTimelineData(){const t=this.getLastTrialData().select("internal_node_id").values[0];if(typeof t>"u")return new y;{const s=t.substr(0,t.lastIndexOf("-"));return this.getDataByTimelineNode(s)}}displayData(e="json"){e=e.toLowerCase(),e!="json"&&e!="csv"&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json");const t=e==="json"?this.allData.json(!0):this.allData.csv(),s=this.jsPsych.getDisplayElement();s.innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=t}urlVariables(){return typeof this.query_string>"u"&&(this.query_string=fe()),this.query_string}getURLVariable(e){return this.urlVariables()[e]}createInteractionListeners(){window.addEventListener("blur",()=>{const t={event:"blur",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(t),this.jsPsych.getInitSettings().on_interaction_data_update(t)}),window.addEventListener("focus",()=>{const t={event:"focus",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(t),this.jsPsych.getInitSettings().on_interaction_data_update(t)});const e=()=>{const t={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(t),this.jsPsych.getInitSettings().on_interaction_data_update(t)};document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}_customInsert(e){this.allData=new y(e)}_fullreset(){this.reset(),this.dataProperties={}}}class ye{constructor(){this.hardwareConnected=!1,document.addEventListener("jspsych-activate",e=>{this.hardwareConnected=!0})}hardware(e){const t=new CustomEvent("jspsych",{detail:e});document.dispatchEvent(t)}}class ge{constructor(e,t=!1,s=0){this.getRootElement=e,this.areResponsesCaseSensitive=t,this.minimumValidRt=s,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,A(this),this.registerRootListeners()}registerRootListeners(){if(!this.areRootListenersRegistered){const e=this.getRootElement();e&&(e.addEventListener("keydown",this.rootKeydownListener),e.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}rootKeydownListener(e){for(const t of Array.from(this.listeners))t(e);this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key))}toLowerCaseIfInsensitive(e){return this.areResponsesCaseSensitive?e:e.toLowerCase()}rootKeyupListener(e){this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key))}isResponseValid(e,t,s){return!t&&this.heldKeys.has(s)?!1:e==="ALL_KEYS"?!0:e==="NO_KEYS"?!1:e.includes(s)}getKeyboardResponse({callback_function:e,valid_responses:t="ALL_KEYS",rt_method:s="performance",persist:i,audio_context:r,audio_context_start_time:a,allow_held_key:l=!1,minimum_valid_rt:o=this.minimumValidRt}){s!=="performance"&&s!=="audio"&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),s="performance");const u=s==="performance"?performance.now():a*1e3;this.registerRootListeners(),!this.areResponsesCaseSensitive&&typeof t!="string"&&(t=t.map(p=>p.toLowerCase()));const d=p=>{const m=Math.round((s=="performance"?performance.now():r.currentTime*1e3)-u);if(m<o)return;const _=this.toLowerCaseIfInsensitive(p.key);this.isResponseValid(t,l,_)&&(p.preventDefault(),i||this.cancelKeyboardResponse(d),e({key:_,rt:m}))};return this.listeners.add(d),d}cancelKeyboardResponse(e){this.listeners.delete(e)}cancelAllKeyboardResponses(){this.listeners.clear()}compareKeys(e,t){if(typeof e!="string"&&e!==null||typeof t!="string"&&t!==null){console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.");return}return typeof e=="string"&&typeof t=="string"?this.areResponsesCaseSensitive?e===t:e.toLowerCase()===t.toLowerCase():e===null&&t===null}}var h;(function(n){n[n.BOOL=0]="BOOL",n[n.STRING=1]="STRING",n[n.INT=2]="INT",n[n.FLOAT=3]="FLOAT",n[n.FUNCTION=4]="FUNCTION",n[n.KEY=5]="KEY",n[n.KEYS=6]="KEYS",n[n.SELECT=7]="SELECT",n[n.HTML_STRING=8]="HTML_STRING",n[n.IMAGE=9]="IMAGE",n[n.AUDIO=10]="AUDIO",n[n.VIDEO=11]="VIDEO",n[n.OBJECT=12]="OBJECT",n[n.COMPLEX=13]="COMPLEX",n[n.TIMELINE=14]="TIMELINE"})(h||(h={}));const F={data:{type:h.OBJECT,pretty_name:"Data",default:{}},on_start:{type:h.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:h.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:h.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:h.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:h.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:h.COMPLEX,default:null}},G=[h.AUDIO,h.IMAGE,h.VIDEO];class _e{constructor(e,t){this.useWebaudio=e,this.webaudioContext=t,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}getVideoBuffer(e){return e.startsWith("blob:")&&(this.video_buffers[e]=e),this.video_buffers[e]}initAudio(){this.context=this.useWebaudio?this.webaudioContext:null}audioContext(){return this.context!==null&&this.context.state!=="running"&&this.context.resume(),this.context}getAudioBuffer(e){return new Promise((t,s)=>{typeof this.audio_buffers[e]>"u"||this.audio_buffers[e]=="tmp"?this.preloadAudio([e],()=>{t(this.audio_buffers[e])},()=>{},i=>{s(i.error)}):t(this.audio_buffers[e])})}preloadAudio(e,t=()=>{},s=r=>{},i=r=>{}){e=E(e.flat());let r=0;if(e.length==0){t();return}const a=(o,c=1)=>{const u=new XMLHttpRequest;u.open("GET",o,!0),u.responseType="arraybuffer",u.onload=()=>{this.context.decodeAudioData(u.response,d=>{this.audio_buffers[o]=d,r++,s(o),r==e.length&&t()},d=>{i({source:o,error:d})})},u.onerror=d=>{let p=d;u.status==404&&(p="404"),i({source:o,error:p})},u.onloadend=d=>{u.status==404&&i({source:o,error:"404"})},u.send(),this.preload_requests.push(u)},l=(o,c=1)=>{const u=new Audio,d=()=>{this.audio_buffers[o]=u,r++,s(o),r==e.length&&t(),u.removeEventListener("canplaythrough",d)};u.addEventListener("canplaythrough",d),u.addEventListener("error",function p(m){i({source:u.src,error:m}),u.removeEventListener("error",p)}),u.addEventListener("abort",function p(m){i({source:u.src,error:m}),u.removeEventListener("abort",p)}),u.src=o,this.preload_requests.push(u)};for(const o of e)typeof this.audio_buffers[o]<"u"?(r++,s(o),r==e.length&&t()):(this.audio_buffers[o]="tmp",this.audioContext()!==null?a(o):l(o))}preloadImages(e,t=()=>{},s=r=>{},i=r=>{}){e=E(e.flat());var r=0;if(e.length===0){t();return}for(let a=0;a<e.length;a++){const l=new Image,o=e[a];l.onload=()=>{r++,s(o),r===e.length&&t()},l.onerror=c=>{i({source:o,error:c})},l.src=o,this.img_cache[o]=l,this.preload_requests.push(l)}}preloadVideo(e,t=()=>{},s=r=>{},i=r=>{}){e=E(e.flat());let r=0;if(e.length===0){t();return}for(const a of e){const l=this.video_buffers,o=new XMLHttpRequest;o.open("GET",a,!0),o.responseType="blob",o.onload=()=>{if(o.status===200||o.status===0){const c=o.response;l[a]=URL.createObjectURL(c),r++,s(a),r===e.length&&t()}},o.onerror=c=>{let u=c;o.status==404&&(u="404"),i({source:a,error:u})},o.onloadend=c=>{o.status==404&&i({source:a,error:"404"})},o.send(),this.preload_requests.push(o)}}getAutoPreloadList(e){const t=Object.fromEntries(G.map(i=>[i,new Set])),s=(i,r)=>{var a,l,o,c;if(typeof i.timeline<"u")for(const d of i.timeline)s(d,(a=i.type)!==null&&a!==void 0?a:r);else if(!((o=(l=i.type)!==null&&l!==void 0?l:r)===null||o===void 0)&&o.info){const{name:d,parameters:p}=((c=i.type)!==null&&c!==void 0?c:r).info;this.preloadMap.has(d)||this.preloadMap.set(d,Object.fromEntries(Object.entries(p).filter(([m,{type:_,preload:f}])=>G.includes(_)&&(f??!0)).map(([m,{type:_}])=>[m,_])));for(const[m,_]of Object.entries(this.preloadMap.get(d))){const f=i[m],w=t[_];if(typeof f=="string")w.add(f);else if(Array.isArray(f))for(const b of f.flat())typeof b=="string"&&w.add(b)}}};return s({timeline:e}),{images:[...t[h.IMAGE]],audio:[...t[h.AUDIO]],video:[...t[h.VIDEO]]}}cancelPreloads(){for(const e of this.preload_requests)e.onload=()=>{},e.onerror=()=>{},e.oncanplaythrough=()=>{},e.onabort=()=>{};this.preload_requests=[]}initializeMicrophoneRecorder(e){const t=new MediaRecorder(e);this.microphone_recorder=t}getMicrophoneRecorder(){return this.microphone_recorder}initializeCameraRecorder(e,t){this.camera_stream=e;const s=new MediaRecorder(e,t);this.camera_recorder=s}getCameraStream(){return this.camera_stream}getCameraRecorder(){return this.camera_recorder}}class ve{dispatchEvent(e){document.body.dispatchEvent(e)}keyDown(e){this.dispatchEvent(new KeyboardEvent("keydown",{key:e}))}keyUp(e){this.dispatchEvent(new KeyboardEvent("keyup",{key:e}))}pressKey(e,t=0){t>0?setTimeout(()=>{this.keyDown(e),this.keyUp(e)},t):(this.keyDown(e),this.keyUp(e))}clickTarget(e,t=0){t>0?setTimeout(()=>{e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},t):(e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}fillTextInput(e,t,s=0){s>0?setTimeout(()=>{e.value=t},s):e.value=t}getValidKey(e){const t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];let s;if(e=="NO_KEYS")s=null;else if(e=="ALL_KEYS")s=t[Math.floor(Math.random()*t.length)];else{const i=e.flat();s=i[Math.floor(Math.random()*i.length)]}return s}mergeSimulationData(e,t){return Object.assign(Object.assign({},e),t==null?void 0:t.data)}ensureSimulationDataConsistency(e,t){if(t.rt&&(t.rt=Math.round(t.rt)),e.trial_duration&&t.rt&&t.rt>e.trial_duration&&(t.rt=null,t.response&&(t.response=null),t.correct&&(t.correct=!1)),e.choices&&e.choices=="NO_KEYS"&&(t.rt&&(t.rt=null),t.response&&(t.response=null)),e.allow_response_before_complete&&e.sequence_reps&&e.frame_time){const s=e.sequence_reps*e.frame_time*e.stimuli.length;t.rt<s&&(t.rt=null,t.response=null)}}}class we{constructor(){this.timeout_handlers=[]}setTimeout(e,t){const s=window.setTimeout(e,t);return this.timeout_handlers.push(s),s}clearAllTimeouts(){for(const e of this.timeout_handlers)clearTimeout(e);this.timeout_handlers=[]}}function be(n){const e=n.getInitSettings();return Object.assign({},...[new ge(n.getDisplayContainerElement,e.case_sensitive_responses,e.minimum_valid_rt),new we,new _e(e.use_webaudio,n.webaudio_context),new ye,new ve].map(t=>A(t)))}var N=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function W(n){function e(){return n&&n.maxLength>1?t():s()}function t(){for(var u=!1,d;!u;)d=s(),d.length<=n.maxLength&&(u=!0);return d}function s(){return N[i(N.length)]}function i(u){return Math.floor(Math.random()*u)}if(typeof n>"u")return e();typeof n=="number"&&(n={exactly:n}),n.exactly&&(n.min=n.exactly,n.max=n.exactly),typeof n.wordsPerString!="number"&&(n.wordsPerString=1),typeof n.formatter!="function"&&(n.formatter=u=>u),typeof n.separator!="string"&&(n.separator=" ");for(var r=n.min+i(n.max+1-n.min),a=[],l="",o=0,c=0;c<r*n.wordsPerString;c++)o===n.wordsPerString-1?l+=n.formatter(e(),o):l+=n.formatter(e(),o)+n.separator,o++,(c+1)%n.wordsPerString===0&&(a.push(l),l="",o=0);return typeof n.join=="string"&&(a=a.join(n.join)),a}var ke=W;W.wordList=N;var J={exports:{}};(function(n){(function(e,t,s){function i(o){var c=this,u=l();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(o),c.s0<0&&(c.s0+=1),c.s1-=u(o),c.s1<0&&(c.s1+=1),c.s2-=u(o),c.s2<0&&(c.s2+=1),u=null}function r(o,c){return c.c=o.c,c.s0=o.s0,c.s1=o.s1,c.s2=o.s2,c}function a(o,c){var u=new i(o),d=c&&c.state,p=u.next;return p.int32=function(){return u.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&r(d,u),p.state=function(){return r(u,{})}),p}function l(){var o=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){o+=u.charCodeAt(d);var p=.02519603282416938*o;o=p>>>0,p-=o,p*=o,o=p>>>0,p-=o,o+=p*4294967296}return(o>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=a:s&&s.amd?s(function(){return a}):this.alea=a})(le,n,!1)})(J);var je=J.exports;function Te(n=Math.random().toString()){return Math.random=je(n),n}function K(n,e,t=!1){const s=Array.isArray(n),i=Array.isArray(e);if(!s)i?(e=[e[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(n=[n],e=[e]);else if(i){if(n.length!=e.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),e.length<n.length){let l=[];for(let o=0;o<n.length;o++)l.push(e);e=l}else e=e.slice(0,n.length)}else{let l=[];for(let o=0;o<n.length;o++)l.push(e);e=l}let r=[];for(let l=0;l<n.length;l++)for(let o=0;o<e[l];o++)n[l]==null||typeof n[l]!="object"?r.push(n[l]):r.push(Object.assign({},n[l]));let a=x(r);return t&&(a=Me(a)),a}function x(n){Array.isArray(n)||console.error("Argument to shuffle() must be an array.");const e=n.slice(0);let t=e.length,s,i;for(;t;)i=Math.floor(Math.random()*t--),s=e[t],e[t]=e[i],e[i]=s;return e}function xe(n,e){Array.isArray(n)||console.error("First argument to shuffleNoRepeats() must be an array."),typeof e<"u"&&typeof e!="function"&&console.error("Second argument to shuffleNoRepeats() must be a function."),typeof e>"u"&&(e=function(s,i){return s===i});const t=x(n);for(let s=0;s<t.length-1;s++)if(e(t[s],t[s+1])){let i=Math.floor(Math.random()*(t.length-2))+1;for(;e(t[s+1],t[i])||e(t[s+1],t[i+1])||e(t[s+1],t[i-1])||e(t[s],t[i]);)i=Math.floor(Math.random()*(t.length-2))+1;const r=t[i];t[i]=t[s+1],t[s+1]=r}return t}function X(n,e=!1){const t=n.length;if(t==1)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),x(n[0]);let s=[];for(let l=0;l<t;l++)s.push(l);e&&(s=x(s));const i=[];let r=null;for(let l=0;l<t;l++)r=r===null?n[l].length:Math.min(r,n[l].length),i.push(x(n[l]));const a=[];for(let l=0;l<r;l++)for(let o=0;o<s.length;o++)a.push(i[s[o]][l]);return a}function Q(n,e){return Array.isArray(n)||console.error("First argument to sampleWithoutReplacement() must be an array"),e>n.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),x(n).slice(0,e)}function Z(n,e,t){Array.isArray(n)||console.error("First argument to sampleWithReplacement() must be an array");const s=[];if(typeof t<"u"){t.length!==n.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");let a=0;for(const l of t)a+=l;for(const l of t)s.push(l/a)}else for(let a=0;a<n.length;a++)s.push(1/n.length);const i=[s[0]];for(let a=1;a<s.length;a++)i.push(s[a]+i[a-1]);const r=[];for(let a=0;a<e;a++){const l=Math.random();let o=0;for(;l>i[o];)o++;r.push(n[o])}return r}function Pe(n,e=1,t=!1){let s=[{}];for(const[i,r]of Object.entries(n)){const a=[];for(const l of r)for(const o of s)a.push(Object.assign(Object.assign({},o),{[i]:l}));s=a}return K(s,e,t)}function Oe(n=32){let e="";const t="0123456789abcdefghjklmnopqrstuvwxyz";for(let s=0;s<n;s++)e+=t[Math.floor(Math.random()*t.length)];return e}function Ie(n,e){if(e<n)throw new Error("Upper boundary must be less than or equal to lower boundary");return n+Math.floor(Math.random()*(e-n+1))}function Ee(n){return Math.random()<=n?1:0}function C(n,e){return Se()*e+n}function D(n){return-Math.log(Math.random())/n}function Ae(n,e,t,s=!1){let i=C(n,e)+D(t);if(s)for(;i<=0;)i=C(n,e)+D(t);return i}function Le(n){return ke(n)}function Se(){for(var n=0,e=0;n===0;)n=Math.random();for(;e===0;)e=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*e)}function Me(n){const e={};for(const t of n)for(const s of Object.keys(t))typeof e[s]>"u"&&(e[s]=[]),e[s].push(t[s]);return e}var Re=Object.freeze({__proto__:null,setSeed:Te,repeat:K,shuffle:x,shuffleNoRepeats:xe,shuffleAlternateGroups:X,sampleWithoutReplacement:Q,sampleWithReplacement:Z,factorial:Pe,randomID:Oe,randomInt:Ie,sampleBernoulli:Ee,sampleNormal:C,sampleExponential:D,sampleExGaussian:Ae,randomWords:Le});function ee(){const n={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},e=function(i,r){r=r.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const a="[\\?&]"+r+"=([^&#]*)",o=new RegExp(a).exec(i);return o==null?"":o[1]},t=e(window.location.href,"assignmentId")?window.location.href:document.referrer;return["assignmentId","hitId","workerId","turkSubmitTo"].map(function(i){n[i]=unescape(e(t,i))}),n.previewMode=n.assignmentId=="ASSIGNMENT_ID_NOT_AVAILABLE",n.outsideTurk=!n.previewMode&&n.hitId===""&&n.assignmentId==""&&n.workerId=="",n}function Ne(n){const e=ee(),t=e.assignmentId,s=e.turkSubmitTo;if(!t||!s)return;const i=document.createElement("form");i.method="POST",i.action=s+"/mturk/externalSubmit?assignmentId="+t;for(const r in n)if(n.hasOwnProperty(r)){const a=document.createElement("input");a.type="hidden",a.name=r,a.id=r,a.value=n[r],i.appendChild(a)}document.body.appendChild(i),i.submit()}var Ce=Object.freeze({__proto__:null,turkInfo:ee,submitToTurk:Ne});class L{constructor(e,t,s,i){if(this.jsPsych=e,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=s,this.relative_id=typeof s>"u"?0:i,typeof t.timeline<"u"){this.timeline_parameters={timeline:[],loop_function:t.loop_function,conditional_function:t.conditional_function,sample:t.sample,randomize_order:typeof t.randomize_order>"u"?!1:t.randomize_order,repetitions:typeof t.repetitions>"u"?1:t.repetitions,timeline_variables:typeof t.timeline_variables>"u"?[{}]:t.timeline_variables,on_timeline_finish:t.on_timeline_finish,on_timeline_start:t.on_timeline_start},this.setTimelineVariablesOrder();var r=Object.assign({},t);delete r.timeline,delete r.conditional_function,delete r.loop_function,delete r.randomize_order,delete r.repetitions,delete r.timeline_variables,delete r.sample,delete r.on_timeline_start,delete r.on_timeline_finish,this.node_trial_data=r;for(var a=0;a<t.timeline.length;a++){var l=Object.assign({},r,t.timeline[a]);if(typeof r.data=="object"&&typeof t.timeline[a].data=="object"){var o=Object.assign({},r.data,t.timeline[a].data);l.data=o}this.timeline_parameters.timeline.push(new L(this.jsPsych,l,this,a))}}else typeof t.type>"u"&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(t)),this.trial_parameters=Object.assign({},t)}trial(){return typeof this.timeline_parameters>"u"?T(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}markCurrentTrialComplete(){typeof this.timeline_parameters>"u"?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}nextRepetiton(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}setTimelineVariablesOrder(){const e=this.timeline_parameters;if(!(typeof e>"u"||typeof e.timeline_variables>"u")){for(var t=[],s=0;s<e.timeline_variables.length;s++)t.push(s);typeof e.sample<"u"&&(e.sample.type=="custom"?t=e.sample.fn(t):e.sample.type=="with-replacement"?t=Z(t,e.sample.size,e.sample.weights):e.sample.type=="without-replacement"?t=Q(t,e.sample.size):e.sample.type=="fixed-repetitions"?t=K(t,e.sample.size,!1):e.sample.type=="alternate-groups"?t=X(e.sample.groups,e.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),e.randomize_order&&(t=x(t)),this.progress.order=t}}nextSet(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}advance(){const e=this.progress,t=this.timeline_parameters,s=this.jsPsych.internal;if(e.done)return!0;if(e.current_location==-1){if(typeof t<"u"){if(typeof t.conditional_function<"u"&&e.current_repetition==0&&e.current_variable_set==0){s.call_immediate=!0;var i=t.conditional_function();if(s.call_immediate=!1,i==!1)return e.done=!0,!0}typeof t.on_timeline_start<"u"&&e.current_variable_set==0&&t.on_timeline_start()}return e.current_location=0,this.advance()}if(typeof t<"u"){for(var r=!1;e.current_location<t.timeline.length&&r==!1;){var a=t.timeline[e.current_location].advance();if(a)e.current_location++;else return r=!0,!1}return e.current_variable_set<e.order.length-1?(this.nextSet(),this.advance()):e.current_repetition<t.repetitions-1?(this.nextRepetiton(),typeof t.on_timeline_finish<"u"&&t.on_timeline_finish(),this.advance()):(typeof t.on_timeline_finish<"u"&&t.on_timeline_finish(),typeof t.loop_function<"u"?(s.call_immediate=!0,t.loop_function(this.generatedData())?(this.reset(),s.call_immediate=!1,this.parent_node.advance()):(e.done=!0,s.call_immediate=!1,!0)):(e.done=!0,!0))}}isComplete(){return this.progress.done}getTimelineVariableValue(e){if(!(typeof this.timeline_parameters>"u")){var t=this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][e];return t}}findTimelineVariable(e){var t=this.getTimelineVariableValue(e);return typeof t>"u"?typeof this.parent_node<"u"?this.parent_node.findTimelineVariable(e):void 0:t}timelineVariable(e){if(typeof this.timeline_parameters>"u"){const s=this.findTimelineVariable(e);return typeof s>"u"&&console.warn("Timeline variable "+e+" not found."),s}else{var t=Math.max(0,this.progress.current_location);t==this.timeline_parameters.timeline.length&&(t=t-1);const s=this.timeline_parameters.timeline[t].timelineVariable(e);return typeof s>"u"&&console.warn("Timeline variable "+e+" not found."),s}}allTimelineVariables(){for(var e=this.allTimelineVariablesNames(),t={},s=0;s<e.length;s++)t[e[s]]=this.timelineVariable(e[s]);return t}allTimelineVariablesNames(e=[]){if(typeof this.timeline_parameters<"u"){e=e.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var t=Math.max(0,this.progress.current_location);return t==this.timeline_parameters.timeline.length&&(t=t-1),this.timeline_parameters.timeline[t].allTimelineVariablesNames(e)}if(typeof this.timeline_parameters>"u")return e}length(){var e=0;if(typeof this.timeline_parameters<"u")for(var t=0;t<this.timeline_parameters.timeline.length;t++)e+=this.timeline_parameters.timeline[t].length();else return 1;return e}percentComplete(){for(var e=this.length(),t=0,s=0;s<this.timeline_parameters.timeline.length;s++)this.timeline_parameters.timeline[s].isComplete()&&(t+=this.timeline_parameters.timeline[s].length());return t/e*100}reset(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),typeof this.timeline_parameters<"u")for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}end(){this.progress.done=!0}endActiveNode(){typeof this.timeline_parameters>"u"?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}ID(){var e="";return typeof this.parent_node>"u"?"0."+this.progress.current_iteration:(e+=this.parent_node.ID()+"-",e+=this.relative_id+"."+this.progress.current_iteration,e)}activeID(){return typeof this.timeline_parameters>"u"?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}generatedData(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}trialsOfType(e){if(typeof this.timeline_parameters>"u")return this.trial_parameters.type==e?this.trial_parameters:[];for(var t=[],s=0;s<this.timeline_parameters.timeline.length;s++){var i=this.timeline_parameters.timeline[s].trialsOfType(e);t=t.concat(i)}return t}insert(e){typeof this.timeline_parameters>"u"?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new L(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),e),this,this.timeline_parameters.timeline.length))}}function De(n){return new Promise(e=>setTimeout(e,n))}class qe{constructor(e){this.extensions={},this.turk=Ce,this.randomization=Re,this.utils=he,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,e=Object.assign({display_element:void 0,on_finish:()=>{},on_trial_start:()=>{},on_trial_finish:()=>{},on_data_update:()=>{},on_interaction_data_update:()=>{},on_close:()=>{},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},e),this.opts=e,A(this),this.webaudio_context=typeof window<"u"&&typeof window.AudioContext<"u"?new AudioContext:null,window.location.protocol=="file:"&&(e.override_safe_mode===!1||typeof e.override_safe_mode>"u")&&(e.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new me(this),this.pluginAPI=be(this);for(const t of e.extensions)this.extensions[t.type.info.name]=new t.type(this);this.pluginAPI.initAudio()}version(){return ce}run(e){return P(this,void 0,void 0,function*(){typeof e>"u"&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),e.length===0&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=e,this.timeline=new L(this,{timeline:e}),yield this.prepareDom(),yield this.checkExclusions(this.opts.exclusions),yield this.loadExtensions(this.opts.extensions),document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),yield this.finished})}simulate(e,t="data-only",s={}){return P(this,void 0,void 0,function*(){this.simulation_mode=t,this.simulation_options=s,yield this.run(e)})}getProgress(){return{total_trials:typeof this.timeline>"u"?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:typeof this.timeline>"u"?0:this.timeline.percentComplete()}}getStartTime(){return this.exp_start_time}getTotalTime(){return typeof this.exp_start_time>"u"?0:new Date().getTime()-this.exp_start_time.getTime()}getDisplayElement(){return this.DOM_target}getDisplayContainerElement(){return this.DOM_container}finishTrial(e={}){var t;if(this.current_trial_finished)return;this.current_trial_finished=!0,typeof this.current_trial.css_classes<"u"&&Array.isArray(this.current_trial.css_classes)&&this.DOM_target.classList.remove(...this.current_trial.css_classes),this.data.write(e);const i=this.data.getLastTrialData().values()[0],r=this.current_trial;if(typeof r.save_trial_parameters=="object")for(const o of Object.keys(r.save_trial_parameters)){const c=r.save_trial_parameters[o];c===!0&&(typeof r[o]>"u"?console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called "${o}".`):typeof r[o]=="function"?i[o]=r[o].toString():i[o]=r[o]),c===!1&&o!=="internal_node_id"&&o!=="trial_index"&&delete i[o]}const a=((t=r.extensions)!==null&&t!==void 0?t:[]).map(o=>this.extensions[o.type.info.name].on_finish(o.params)),l=()=>{this.internal.call_immediate=!0,typeof r.on_finish=="function"&&r.on_finish(i),this.opts.on_trial_finish(i),this.opts.on_data_update(i),this.internal.call_immediate=!1,this.simulation_mode==="data-only"?this.nextTrial():typeof r.post_trial_gap===null||typeof r.post_trial_gap>"u"?this.opts.default_iti>0?setTimeout(this.nextTrial,this.opts.default_iti):this.nextTrial():r.post_trial_gap>0?setTimeout(this.nextTrial,r.post_trial_gap):this.nextTrial()};if(a.some(o=>typeof o.then=="function"))Promise.all(a.map(o=>Promise.resolve(o).then(c=>{Object.assign(i,c)}))).then(l);else{for(const o of a)Object.assign(i,o);l()}}endExperiment(e="",t={}){this.timeline.end_message=e,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(t)}endCurrentTimeline(){this.timeline.endActiveNode()}getCurrentTrial(){return this.current_trial}getInitSettings(){return this.opts}getCurrentTimelineNodeID(){return this.timeline.activeID()}timelineVariable(e,t=!1){return this.internal.call_immediate||t===!0?this.timeline.timelineVariable(e):{timelineVariablePlaceholder:!0,timelineVariableFunction:()=>this.timeline.timelineVariable(e)}}getAllTimelineVariables(){return this.timeline.allTimelineVariables()}addNodeToEndOfTimeline(e,t){this.timeline.insert(e)}pauseExperiment(){this.paused=!0}resumeExperiment(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}loadFail(e){e=e||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=e}getSafeModeStatus(){return this.file_protocol}getTimeline(){return this.timelineDescription}prepareDom(){return P(this,void 0,void 0,function*(){document.readyState!=="complete"&&(yield new Promise(t=>{window.addEventListener("load",t)}));const e=this.opts;if(typeof e.display_element>"u")document.querySelector("body")===null&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",e.display_element=document.querySelector("body");else{const t=e.display_element instanceof Element?e.display_element:document.querySelector("#"+e.display_element);t===null?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):e.display_element=t}e.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=e.display_element,this.DOM_target=document.querySelector("#jspsych-content"),e.experiment_width!==null&&(this.DOM_target.style.width=e.experiment_width+"px"),e.display_element.tabIndex=0,e.display_element.className.indexOf("jspsych-display-element")===-1&&(e.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",e.on_close)})}loadExtensions(e){return P(this,void 0,void 0,function*(){try{yield Promise.all(e.map(t=>this.extensions[t.type.info.name].initialize(t.params||{})))}catch(t){throw console.error(t),new Error(t)}})}startExperiment(){this.finished=new Promise(e=>{this.resolveFinishedPromise=e}),this.opts.show_progress_bar===!0&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}finishExperiment(){const e=this.opts.on_finish(this.data.get()),t=()=>{typeof this.timeline.end_message<"u"&&(this.DOM_target.innerHTML=this.timeline.end_message),this.resolveFinishedPromise()};e?Promise.resolve(e).then(t):t()}nextTrial(){if(this.paused){this.waiting=!0;return}this.global_trial_index++,this.timeline.markCurrentTrialComplete();const e=this.timeline.advance();if(this.opts.show_progress_bar===!0&&this.opts.auto_update_progress_bar===!0&&this.updateProgressBar(),e){this.finishExperiment();return}this.doTrial(this.timeline.trial())}doTrial(e){if(this.current_trial=e,this.current_trial_finished=!1,this.evaluateTimelineVariables(e),typeof e.type=="string")throw new k("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(e.type=Object.assign(Object.assign({},A(new e.type(this))),{info:e.type.info}),this.evaluateFunctionParameters(e),this.setDefaultValues(e),this.internal.call_immediate=!0,this.opts.on_trial_start(e),typeof e.on_start=="function"&&e.on_start(e),Array.isArray(e.extensions))for(const r of e.extensions)this.extensions[r.type.info.name].on_start(r.params);this.DOM_container.focus(),this.DOM_target.scrollTop=0,typeof e.css_classes<"u"&&(!Array.isArray(e.css_classes)&&typeof e.css_classes=="string"&&(e.css_classes=[e.css_classes]),Array.isArray(e.css_classes)&&this.DOM_target.classList.add(...e.css_classes));const t=()=>{if(typeof e.on_load=="function"&&e.on_load(),Array.isArray(e.extensions))for(const r of e.extensions)this.extensions[r.type.info.name].on_load(r.params)};let s;if(this.simulation_mode||(s=e.type.trial(this.DOM_target,e,t)),this.simulation_mode)if(e.type.simulate){let r;e.simulation_options||(r=this.simulation_options.default),e.simulation_options&&(typeof e.simulation_options=="string"?this.simulation_options[e.simulation_options]?r=this.simulation_options[e.simulation_options]:this.simulation_options.default?(console.log(`No matching simulation options found for "${e.simulation_options}". Using "default" options.`),r=this.simulation_options.default):(console.log(`No matching simulation options found for "${e.simulation_options}" and no "default" options provided. Using the default values provided by the plugin.`),r={}):r=e.simulation_options),r=this.utils.deepCopy(r),r=this.replaceFunctionsWithValues(r,null),(r==null?void 0:r.simulate)===!1?s=e.type.trial(this.DOM_target,e,t):s=e.type.simulate(e,(r==null?void 0:r.mode)||this.simulation_mode,r,t)}else s=e.type.trial(this.DOM_target,e,t);!(s&&typeof s.then=="function")&&!this.simulation_mode&&t(),this.internal.call_immediate=!1}evaluateTimelineVariables(e){for(const t of Object.keys(e))typeof e[t]=="object"&&e[t]!==null&&typeof e[t].timelineVariablePlaceholder<"u"&&(e[t]=e[t].timelineVariableFunction()),typeof e[t]=="object"&&e[t]!==null&&t!=="timeline"&&t!=="timeline_variables"&&this.evaluateTimelineVariables(e[t])}evaluateFunctionParameters(e){this.internal.call_immediate=!0;for(const t of Object.keys(e))t!=="type"&&(typeof F[t]<"u"&&F[t].type!==h.FUNCTION&&(e[t]=this.replaceFunctionsWithValues(e[t],null)),typeof e.type.info.parameters[t]<"u"&&e.type.info.parameters[t].type!==h.FUNCTION&&(e[t]=this.replaceFunctionsWithValues(e[t],e.type.info.parameters[t])));this.internal.call_immediate=!1}replaceFunctionsWithValues(e,t){if(e===null)return e;if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=this.replaceFunctionsWithValues(e[s],t);else if(typeof e=="object")if(t===null||!t.nested)for(const s of Object.keys(e))s==="type"||s==="timeline"||s==="timeline_variables"||(e[s]=this.replaceFunctionsWithValues(e[s],null));else for(const s of Object.keys(e))typeof t.nested[s]=="object"&&t.nested[s].type!==h.FUNCTION&&(e[s]=this.replaceFunctionsWithValues(e[s],t.nested[s]));else if(typeof e=="function")return e();return e}setDefaultValues(e){for(const t in e.type.info.parameters)e.type.info.parameters[t].type===h.COMPLEX?e.type.info.parameters[t].array===!0&&e[t].forEach(function(s,i){for(const r in e.type.info.parameters[t].nested)(typeof e[t][i][r]>"u"||e[t][i][r]===null)&&(typeof e.type.info.parameters[t].nested[r].default>"u"?console.error("You must specify a value for the "+r+" parameter (nested in the "+t+" parameter) in the "+e.type+" plugin."):e[t][i][r]=e.type.info.parameters[t].nested[r].default)}):(typeof e[t]>"u"||e[t]===null)&&(typeof e.type.info.parameters[t].default>"u"?console.error("You must specify a value for the "+t+" parameter in the "+e.type.info.name+" plugin."):e[t]=e.type.info.parameters[t].default)}checkExclusions(e){return P(this,void 0,void 0,function*(){if((e.min_width||e.min_height||e.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),e.min_width||e.min_height){const t=e.min_width||0,s=e.min_height||0;if(window.innerWidth<t||window.innerHeight<s){for(this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+t+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+s+"px. Your current height is "+window.innerHeight+"px.</p>";window.innerWidth<t||window.innerHeight<s;)yield De(100);this.getDisplayElement().innerHTML=""}}if(typeof e.audio<"u"&&e.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error})}drawProgressBar(e){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+e+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}updateProgressBar(){this.setProgressBar(this.getProgress().percent_complete/100)}setProgressBar(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=e*100+"%",this.progress_bar_amount=e}getProgressBarCompleted(){return this.progress_bar_amount}}typeof window<"u"&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext);function Ke(n){const e=new qe(n);return Object.defineProperties(e,Object.fromEntries(Object.entries({init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."}).map(([s,i])=>[s,{get(){throw new k(i)}}]))),e}const v={colorOrder:Math.floor(Math.random()*2),pM:Array("easy","hard")[Math.floor(Math.random()*2)],pEM:[10,10],gameTypeOrder:Math.floor(Math.random()*2),val:3,nTrials:50},g={game1:v.colorOrder==1?"Green Game":"Blue Game",color1:v.colorOrder==1?"green":"blue",hex1:v.colorOrder==1?"#00aa00":"#1067e8",span1:v.colorOrder==1?"a-span":"b-span",game2:v.colorOrder==0?"Green Game":"Blue Game",color2:v.colorOrder==0?"green":"blue",hex2:v.colorOrder==0?"#00aa00":"#1067e8",span2:v.colorOrder==0?"a-span":"b-span",value:v.val.toString(),plural:"s",wasWere:"were"},te=jsPsych=Ke({on_finish:()=>{jsPsych.data.displayData()}}),ze={name:"survey-multi-choice",parameters:{questions:{type:h.COMPLEX,array:!0,pretty_name:"Questions",nested:{prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:void 0},options:{type:h.STRING,pretty_name:"Options",array:!0,default:void 0},required:{type:h.BOOL,pretty_name:"Required",default:!1},horizontal:{type:h.BOOL,pretty_name:"Horizontal",default:!1},name:{type:h.STRING,pretty_name:"Question Name",default:""}}},randomize_question_order:{type:h.BOOL,pretty_name:"Randomize Question Order",default:!1},preamble:{type:h.HTML_STRING,pretty_name:"Preamble",default:null},button_label:{type:h.STRING,pretty_name:"Button label",default:"Continue"},autocomplete:{type:h.BOOL,pretty_name:"Allow autocomplete",default:!1}}};class se{constructor(e){this.jsPsych=e}trial(e,t){var s="jspsych-survey-multi-choice",i="";i+='<style id="jspsych-survey-multi-choice-css">',i+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",i+="</style>",t.preamble!==null&&(i+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+t.preamble+"</div>"),t.autocomplete?i+='<form id="jspsych-survey-multi-choice-form">':i+='<form id="jspsych-survey-multi-choice-form" autocomplete="off">';for(var r=[],a=0;a<t.questions.length;a++)r.push(a);t.randomize_question_order&&(r=this.jsPsych.randomization.shuffle(r));for(var a=0;a<t.questions.length;a++){var l=t.questions[r[a]],o=r[a],c=["jspsych-survey-multi-choice-question"];l.horizontal&&c.push("jspsych-survey-multi-choice-horizontal"),i+='<div id="jspsych-survey-multi-choice-'+o+'" class="'+c.join(" ")+'"  data-name="'+l.name+'">',i+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+l.prompt,l.required&&(i+="<span class='required'>*</span>"),i+="</p>";for(var u=0;u<l.options.length;u++){var d="jspsych-survey-multi-choice-option-"+o+"-"+u,p="jspsych-survey-multi-choice-response-"+o,m="jspsych-survey-multi-choice-response-"+o+"-"+u,_=l.required?"required":"";i+='<div id="'+d+'" class="jspsych-survey-multi-choice-option">',i+='<label class="jspsych-survey-multi-choice-text" for="'+m+'">',i+='<input type="radio" name="'+p+'" id="'+m+'" value="'+l.options[u]+'" '+_+"></input>",i+=l.options[u]+"</label>",i+="</div>"}i+="</div>"}i+='<input type="submit" id="'+s+'-next" class="'+s+' jspsych-btn"'+(t.button_label?' value="'+t.button_label+'"':"")+"></input>",i+="</form>",e.innerHTML=i,document.querySelector("form").addEventListener("submit",w=>{w.preventDefault();for(var b=performance.now(),M=Math.round(b-f),z={},O=0;O<t.questions.length;O++){var I=e.querySelector("#jspsych-survey-multi-choice-"+O),oe="Q"+O,R;I.querySelector("input[type=radio]:checked")!==null?R=I.querySelector("input[type=radio]:checked").value:R="";var V={},B=oe;I.attributes["data-name"].value!==""&&(B=I.attributes["data-name"].value),V[B]=R,Object.assign(z,V)}var ae={rt:M,response:z,question_order:r};e.innerHTML="",this.jsPsych.finishTrial(ae)});var f=performance.now()}simulate(e,t,s,i){t=="data-only"&&(i(),this.simulate_data_only(e,s)),t=="visual"&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={};let i=1e3;for(const l of e.questions){const o=l.name?l.name:`Q${e.questions.indexOf(l)}`;s[o]=this.jsPsych.randomization.sampleWithoutReplacement(l.options,1)[0],i+=this.jsPsych.randomization.sampleExGaussian(1500,400,1/200,!0)}const r={response:s,rt:i,question_order:e.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(e.questions.length).keys()]):[...Array(e.questions.length).keys()]},a=this.jsPsych.pluginAPI.mergeSimulationData(r,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,a),a}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),r=this.jsPsych.getDisplayElement();this.trial(r,e),s();const a=Object.entries(i.response);for(let l=0;l<a.length;l++)this.jsPsych.pluginAPI.clickTarget(r.querySelector(`#jspsych-survey-multi-choice-response-${l}-${e.questions[l].options.indexOf(a[l][1])}`),(i.rt-1e3)/a.length*(l+1));this.jsPsych.pluginAPI.clickTarget(r.querySelector("#jspsych-survey-multi-choice-next"),i.rt)}}se.info=ze;const Ve={name:"instructions",parameters:{pages:{type:h.HTML_STRING,pretty_name:"Pages",default:void 0,array:!0},key_forward:{type:h.KEY,pretty_name:"Key forward",default:"ArrowRight"},key_backward:{type:h.KEY,pretty_name:"Key backward",default:"ArrowLeft"},allow_backward:{type:h.BOOL,pretty_name:"Allow backward",default:!0},allow_keys:{type:h.BOOL,pretty_name:"Allow keys",default:!0},show_clickable_nav:{type:h.BOOL,pretty_name:"Show clickable nav",default:!1},show_page_number:{type:h.BOOL,pretty_name:"Show page number",default:!1},page_label:{type:h.STRING,pretty_name:"Page label",default:"Page"},button_label_previous:{type:h.STRING,pretty_name:"Button label previous",default:"Previous"},button_label_next:{type:h.STRING,pretty_name:"Button label next",default:"Next"}}};class ie{constructor(e){this.jsPsych=e}trial(e,t){var s=0,i=[],r=performance.now(),a=r;function l(f){f.target.removeEventListener("click",l),this.id==="jspsych-instructions-back"?u():this.id==="jspsych-instructions-next"&&c()}function o(){var f=t.pages[s],w="";if(t.show_page_number&&(w="<span style='margin: 0 1em;' class='jspsych-instructions-pagenum'>"+t.page_label+" "+(s+1)+"/"+t.pages.length+"</span>"),t.show_clickable_nav){var b="<div class='jspsych-instructions-nav' style='padding: 10px 0px;'>";if(t.allow_backward){var M=s>0?"":"disabled='disabled'";b+="<button id='jspsych-instructions-back' class='jspsych-btn' style='margin-right: 5px;' "+M+">&lt; "+t.button_label_previous+"</button>"}t.pages.length>1&&t.show_page_number&&(b+=w),b+="<button id='jspsych-instructions-next' class='jspsych-btn'style='margin-left: 5px;'>"+t.button_label_next+" &gt;</button></div>",f+=b,e.innerHTML=f,s!=0&&t.allow_backward&&e.querySelector("#jspsych-instructions-back").addEventListener("click",l),e.querySelector("#jspsych-instructions-next").addEventListener("click",l)}else t.show_page_number&&t.pages.length>1&&(f+="<div class='jspsych-instructions-pagenum'>"+w+"</div>"),e.innerHTML=f}function c(){d(),s++,s>=t.pages.length?p():o()}function u(){d(),s--,o()}function d(){var f=performance.now(),w=Math.round(f-a);i.push({page_index:s,viewing_time:w}),a=f}const p=()=>{t.allow_keys&&this.jsPsych.pluginAPI.cancelKeyboardResponse(_),e.innerHTML="";var f={view_history:i,rt:Math.round(performance.now()-r)};this.jsPsych.finishTrial(f)},m=f=>{_=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:m,valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1,allow_held_key:!1}),this.jsPsych.pluginAPI.compareKeys(f.key,t.key_backward)&&s!==0&&t.allow_backward&&u(),this.jsPsych.pluginAPI.compareKeys(f.key,t.key_forward)&&c()};if(o(),t.allow_keys)var _=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:m,valid_responses:[t.key_forward,t.key_backward],rt_method:"performance",persist:!1})}simulate(e,t,s,i){t=="data-only"&&(i(),this.simulate_data_only(e,s)),t=="visual"&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){let s=0,i=0;const r=[];for(;s!==e.pages.length;){const o=this.jsPsych.randomization.sampleExGaussian(3e3,300,.0033333333333333335);r.push({page_index:s,viewing_time:o}),i+=o,s==0||!e.allow_backward||this.jsPsych.randomization.sampleBernoulli(.9)==1?s++:s--}const a={view_history:r,rt:i},l=this.jsPsych.pluginAPI.mergeSimulationData(a,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,l),l}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),r=this.jsPsych.getDisplayElement();this.trial(r,e),s();const a=u=>{e.allow_keys?this.jsPsych.pluginAPI.pressKey(e.key_forward,u):e.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(r.querySelector("#jspsych-instructions-next"),u)},l=u=>{e.allow_keys?this.jsPsych.pluginAPI.pressKey(e.key_backward,u):e.show_clickable_nav&&this.jsPsych.pluginAPI.clickTarget(r.querySelector("#jspsych-instructions-back"),u)};let o=0,c=0;for(let u=0;u<i.view_history.length;u++)u==i.view_history.length-1?a(c+i.view_history[u].viewing_time):(i.view_history[u+1].page_index>o&&a(c+i.view_history[u].viewing_time),i.view_history[u+1].page_index<o&&l(c+i.view_history[u].viewing_time),c+=i.view_history[u].viewing_time,o=i.view_history[u+1].page_index)}}ie.info=Ve;const S=(...n)=>{let e=[];for(let t of n)e.push(`<div class='parent'>${t}</div>`);return{type:ie,pages:e,show_clickable_nav:!0,post_trial_gap:500}};S(`
<p>Thank you for playing the <span class='${g.span1}'>${g.game1}</span>!</p>
When you're ready, continue to learn about and play the <span class='${g.span2}'>${g.game2}</span>.</p>
`);S(`
<p>You are now ready to play the <span class='${g.span1}'>${g.game1}</span>.</p>
<p>Once you proceed, the <span class='${g.span1}'>${g.game1}</span> will start immediately, 
so get ready to press your SPACEBAR.</p>
<p>Continue to the next screen to begin.</p>
`);const Y=[`<p>The <span class='${g.span1}'>${g.game1}</span> is played in multiple rounds.</p>`,`<p>In each round, you'll have five chances to "activate" tiles like this one.<br>
    If you activate a tile before your five chances are up, you'll win the round.</p>
    <div class='box' style='background-color:gray'></div>`],H=[`<p>To earn money in the <span class='${g.span1}'>${g.game1}</span>, you must achieve wins.<br>
    The more wins you achieve, the more money you'll earn.</p>`,`<p>To achieve wins, you'll try to "activate" tiles like this one.<br>
    Activating a tile results in a win.</p>
    <div class='box' style='background-color:gray'></div>`];var U;const Be=(n,e,t)=>{if(t=="R1")var s=v.gameTypeOrder==0?"True":"False",i=v.gameTypeOrder==0?Y:H;else var s=v.gameTypeOrder==0?"False":"True",i=v.gameTypeOrder==0?H:Y;const r=S(...i),a=`attnChk1_${t}`,l={type:se,preamble:`<div style="font-size:16px"><p>To make sure you understand the <span class='${n}'>${e}</span>, please indicate whether the following statement is true or false:</p></div>`,questions:[{prompt:`The <span class='${n}'>${e}</span> is played in multiple rounds, and you have five chances to activate a tile per round.`,name:a,options:["True","False"]}],scale_width:500,on_finish:function(u){U=u.response[a]}},o=function(){return U!=s},c={timeline:[S("<p>You provided a wrong answer.<br>To make sure you understand the game, please continue to re-read the instructions.</p>")],conditional_function:o};return{timeline:[r,l,c],loop_function:o}};Be(g.span1,g.game1,"R1");const Fe={name:"html-keyboard-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0}}};class ne{constructor(e){this.jsPsych=e}trial(e,t){var s='<div id="jspsych-html-keyboard-response-stimulus">'+t.stimulus+"</div>";t.prompt!==null&&(s+=t.prompt),e.innerHTML=s;var i={rt:null,key:null};const r=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),typeof l<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(l);var o={rt:i.rt,stimulus:t.stimulus,response:i.key};e.innerHTML="",this.jsPsych.finishTrial(o)};var a=o=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",i.key==null&&(i=o),t.response_ends_trial&&r()};if(t.choices!="NO_KEYS")var l=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:a,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1});t.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"},t.stimulus_duration),t.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(r,t.trial_duration)}simulate(e,t,s,i){t=="data-only"&&(i(),this.simulate_data_only(e,s)),t=="visual"&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,.006666666666666667,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},i=this.jsPsych.pluginAPI.mergeSimulationData(s,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,i),i}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),r=this.jsPsych.getDisplayElement();this.trial(r,e),s(),i.rt!==null&&this.jsPsych.pluginAPI.pressKey(i.response,i.rt)}}ne.info=Fe;function Ge(n){let e=document.getElementById(n),t=parseInt(e.innerHTML||5),s=setInterval(function(){t<0?clearInterval(s):e.innerHTML=`${t} sec`,t--},1e3)}let j=[];function Ye(n,e){document.addEventListener("keydown",function(t){let s;j.at(-1)===!0?(j.pop(),s="green"):s="red",j.push({key:t.key,color:s}),console.log(j.length),j.length>e&&j.shift();let i=document.getElementById(n);i.innerHTML="",j.forEach(function(r){let a=document.createElement("li");a.textContent=r.key,a.style.color=r.color,i.appendChild(a)})})}const $e={name:"html-display-response",parameters:{stimulus:{type:h.HTML_STRING,pretty_name:"Stimulus",default:void 0},choices:{type:h.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:h.HTML_STRING,pretty_name:"Prompt",default:null},stimulus_duration:{type:h.INT,pretty_name:"Stimulus duration",default:null},trial_duration:{type:h.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:h.BOOL,pretty_name:"Response ends trial",default:!0},num_keypress_display:{type:h.INT,pretty_name:"Keyboard presses number",default:0},remain_time_display:{type:h.BOOL,pretty_name:"Buttom right will display the remaining time from trial duration",default:!1}}};class re extends ne{trial(e,t){var s=`
        <div id="jspsych-html-keyboard-response-stimulus" style="display: flex; flex-direction: column"> 
            <h2>${t.stimulus}</h2>
            <table class="response-display-wrapper">
            <tr class="row-time"> <td>time left: </td> <td><span id="keypress-timer">${t.trial_duration/1e3} sec</span></td></tr>
            <tr class="row-count"> <td>valid scores: </td> <td><span id="keypress-count">0</span></td></tr>
            <tr class="row-hist"> <td>you typed: </td> <td> <ul id="keypress-hist"> </ul></td></tr>
            </table>
        </div>`;s+=t.prompt||"",e.innerHTML=s;var i={rt:null,key:[],score:0};const r=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),typeof c<"u"&&this.jsPsych.pluginAPI.cancelKeyboardResponse(c);var u={rt:i.rt,response:JSON.stringify(i.key),score:i.score};e.innerHTML="",this.jsPsych.finishTrial(u)};let a=0,l=t.choices.length;var o=u=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",i.key==null&&(i.rt=u.rt),jsPsych.pluginAPI.compareKeys(u.key,t.choices[a])&&(i.score++,$("span#keypress-count").html(i.score.toString()),j.push(!0),a=(a+1)%l),i.key.push(u.key),t.response_ends_trial&&r()};if(t.remain_time_display&&($("tr.row-time").css("visibility","visible"),Ge("keypress-timer")),t.num_keypress_display>0&&($("tr.row-hist").css("visibility","visible"),Ye("keypress-hist",t.num_keypress_display)),t.choices!="NO_KEYS"){$("tr.row-count").css("visibility","visible");var c=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:o,valid_responses:t.choices,rt_method:"performance",persist:!t.response_ends_trial,allow_held_key:!1})}t.stimulus_duration!==null&&this.jsPsych.pluginAPI.setTimeout(()=>{$("#jspsych-html-keyboard-response-stimulus").css("visibility","hidden")},t.stimulus_duration),t.trial_duration!==null&&this.jsPsych.pluginAPI.setTimeout(r,t.trial_duration)}}re.info=$e;function He(n){return{type:re,stimulus:"type d and then k as many as you can",choices:["d","k"],remain_time_display:!0,num_keypress_display:4,response_ends_trial:!1,trial_duration:()=>25e4,on_finish:e=>{te.pluginAPI.compareKeys(e.response," ")?e.TooFast=1:e.TooFast=0,e.trial_type=`ITI_${n}`}}}const Ue=(()=>({timeline:[He("R1")]}))(),We=[Ue];te.run(We);
